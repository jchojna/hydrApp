!function(n){var t={};function e(c){if(t[c])return t[c].exports;var l=t[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=n,e.c=t,e.d=function(n,t,c){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:c})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var l in n)e.d(c,l,function(t){return n[t]}.bind(null,l));return c},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\r\n\r\n/////////////////////////////////////////////////////////////// SERVICE WORKER \r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function() {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function(registration) {\r\n      // Registration was successful\r\n      //console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function(err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\n\r\n///////////////////////////////////////////////////////////// GLOBAL VARIABLES \r\n\r\nconst hydrappArray = [];\r\nconst lastEntryDate = new Date();\r\nconst weekDay = ['sunday','monday','tuesday','wednesday','thursday','friday','saturday'];\r\n\r\nlet indicators = '';\r\nfor (let i = 0; i < 8; i++) {\r\n  indicators += `\r\n  <svg class=\"indicator__svg indicator__svg--emo-${i+1} indicator__svg--js-${i}\">\r\n    <use href=\"assets/svg/icons.svg#emoticon-${i}\"></use>\r\n  </svg>`\r\n}\r\n\r\nconst archiveEmpty = `\r\n<p class=\"week__empty\">No history yet...</p>\r\n`;\r\n\r\nconst addButtonHtml = `\r\n<li class=\"entry entry--add entry--js-add\">\r\n  <button class=\"button entry__button entry__button--add entry__button--js-add\">\r\n    Add new day..\r\n  </button>\r\n</li>\r\n`;\r\n\r\nclass Entry {\r\n  constructor(date) {\r\n    this.key = setDateKey(date);\r\n    this.value = this.key;\r\n    this.date = date;\r\n    this.id = this.date;\r\n    this.day = date;\r\n\r\n    this.weekHtml = `\r\n      <section class=\"week\">\r\n        <h3 class=\"week__heading week__heading--js\">New week</h3>\r\n        <ul class=\"week__list week__list--js\"></ul>\r\n      </section>\r\n    `;\r\n\r\n    this.dayHtml = `\r\n      \x3c!--------------------------------------------------- DAY ITEM --\x3e\r\n      <li class=\"entry entry--js ${this.key}\">\r\n        <header class=\"entry__header entry__header--js\">\r\n          <p class=\"entry__heading entry__heading--day\">${this.day}</p>\r\n          <p class=\"entry__heading entry__heading--date entry__heading--js-date\">${this.date}</p>\r\n        </header>\r\n        <span class=\"entry__value entry__value--js\">${this.value}</span>\r\n        \x3c!------------------------------------------ EDITION BUTTONS --\x3e\r\n        <div class=\"edition edition--js\">\r\n          <button class=\"button edition__button edition__button--visible edition__button--edit edition__button--js-edit\">\r\n            <svg class=\"edition__svg edition__svg--edit\">\r\n              <use href=\"assets/svg/icons.svg#edit-mode\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--decrease edition__button--js-decrease\">\r\n            <svg class=\"edition__svg edition__svg--decrease\">\r\n              <use href=\"assets/svg/icons.svg#left-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--increase edition__button--js-increase\">\r\n            <svg class=\"edition__svg edition__svg--increase\">\r\n              <use href=\"assets/svg/icons.svg#right-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--cancel edition__button--js-cancel\">\r\n            <svg class=\"edition__svg edition__svg--cancel\">\r\n              <use href=\"assets/svg/icons.svg#back-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--save edition__button--js-save\">\r\n            <svg class=\"edition__svg edition__svg--save\">\r\n              <use href=\"assets/svg/icons.svg#save-icon\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \x3c!----------------------------------- END OF EDITION BUTTONS --\x3e\r\n        \x3c!----------------------------------------------- INDICATORS --\x3e\r\n        <div class=\"indicator indicator--js-${this.id}\">\r\n          ${indicators}\r\n        </div>\r\n        \x3c!---------------------------------------- END OF INDICATORS --\x3e\r\n      </li>\r\n      \x3c!-------------------------------------------- END OF DAY ITEM --\x3e\r\n    `;\r\n  }\r\n\r\n  get value() {\r\n    return this._value;\r\n  }\r\n  set value(key) {\r\n    this._value = localStorage.getItem(key);\r\n  }\r\n  get date() {\r\n    return this._date;\r\n  }\r\n  set date(date) {\r\n    this._date = getOffsetedDate(date).toISOString().slice(0,10).split('-').reverse().join(' ');\r\n  }\r\n  get id() {\r\n    return this._id;\r\n  }\r\n  set id(date) {\r\n    this._id = date.replace(/\\s/g,'');\r\n  }\r\n  get day() {\r\n    return this._day;\r\n  }\r\n  set day(date) {\r\n    const dayIndex = date.getDay();\r\n    this._day = weekDay[dayIndex];\r\n  }\r\n\r\n  /* get totalHeight() {\r\n    return this._totalHeight;\r\n  }\r\n  set totalHeight(amount) {\r\n    this._totalHeight = amount * this.itemHeight;\r\n  } */\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////// FUNCTIONS \r\n\r\n// F0 ////////////////////////////////////////////////////// GET OFFSETED DATE \r\n\r\nconst getOffsetedDate = (obj) => {\r\n  const timeZoneOffset = (new Date()).getTimezoneOffset() * 60000;\r\n  return (new Date(obj - timeZoneOffset));\r\n}\r\n// F0 //////////////////////////////////////////////// CREATE HYDRAPP DATE KEY \r\n\r\nconst setDateKey = (obj) => {\r\n\r\n  const timeZoneOffset = (new Date()).getTimezoneOffset() * 60000;\r\n  let dateObj = obj || new Date();\r\n  dateObj = (new Date(dateObj - timeZoneOffset));\r\n\r\n  const prefix = 'hydrApp-';\r\n  const dateStr = dateObj.toISOString().slice(0,10);\r\n  return prefix.concat(dateStr);\r\n}\r\n// F0 ///////////////////////////// CREATE ARRAY OF HYDRAPP LOCAL STORAGE KEYS \r\n\r\nconst getHydrappKeys = () => {\r\n  const regex = /hydrApp-/;\r\n  return Object\r\n  .keys(localStorage)\r\n  .filter(key => regex.test(key))\r\n  .sort()\r\n  .reverse();\r\n}\r\n// F0 ///////////////////////////////// CREATE KEY VALUE PAIR IN LOCAL STORAGE \r\n\r\nconst setNewKeyValue = (key, value) => {\r\n  if ( !localStorage.getItem(key) ) {\r\n    localStorage.setItem(key, value);\r\n  };\r\n}\r\n// F0 ///////////////////////////////////////////////////////// SET INDICATORS \r\n\r\nconst setIndicators = (id, value) => {\r\n\r\n  value > 7 ? value = 7 : false;\r\n\r\n  const indicators = document.querySelector(`.indicator--js-${id}`).children;\r\n  const indicator = document.querySelector(`.indicator--js-${id} .indicator__svg--js-${value}`);\r\n  \r\n  for (const indicator of indicators) {\r\n    indicator.classList.contains('indicator__svg--visible')\r\n    ? indicator.classList.remove('indicator__svg--visible')\r\n    : false;\r\n  }\r\n  indicator.classList.add('indicator__svg--visible');\r\n}\r\n// F0 //////////////////////////////////////////////// CREATE ADD ENTRY BUTTON \r\n\r\nconst createAddEntryButton = () => {\r\n  const addEntryButton = document.createElement('li');\r\n  addEntryButton.className = 'entry entry__add';\r\n  addEntryButton.innerHTML = `\r\n    <button class=\"button entry__button entry__button--add entry__button--js-add\">\r\n      Add new day..\r\n    </button>\r\n  `;\r\n  addEntryButton.addEventListener('click', enterNewEntryValue);\r\n\r\n  return addEntryButton;\r\n}\r\n// F0 //////////////////////////////////////////// CREATE 'REMOVE ITEM' BUTTON \r\n\r\nconst createRemoveEntryButton = () => {\r\n\r\n  const removeEntryButton = document.createElement('button');\r\n  removeEntryButton.className = 'button entry__remove';\r\n  removeEntryButton.innerHTML = `\r\n    <svg class=\"entry__svg\" viewBox=\"0 0 512 512\">\r\n      <use href=\"assets/svg/icons.svg#remove-icon\"></use>\r\n    </svg>\r\n  `\r\n  removeEntryButton.addEventListener('click', removeLastEntry);\r\n\r\n  return removeEntryButton;\r\n}\r\n// F2 ////////////////////////////////////////////////////// SET LOCAL STORAGE \r\n\r\nconst handleData = () => {\r\n\r\n  const date = new Date();\r\n  let dateKey = setDateKey(date);\r\n  setNewKeyValue(dateKey, 0);\r\n  let hydrappKeys = getHydrappKeys();\r\n  const oldestKey = hydrappKeys[hydrappKeys.length - 1];\r\n  \r\n  // create object for each key\r\n  const createEntryObject = (date) => {\r\n    const newEntry = new Entry(date);\r\n    hydrappArray.push(newEntry);\r\n  }\r\n  // first object of array\r\n  createEntryObject(date);\r\n\r\n  // autocomplete the rest of keys if needed\r\n  while (dateKey !== oldestKey) {\r\n    dateKey = setDateKey(date.setDate(date.getDate() - 1));\r\n    lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n    setNewKeyValue(dateKey, 0);\r\n    createEntryObject(date);\r\n  }\r\n  //counter.innerHTML = localStorage.getItem(dateKey);\r\n  updateCounter('displayValue');\r\n}\r\n// F1 ///////////////////////////////////////////////////////// UPDATE COUNTER \r\n\r\nconst updateCounter = (e) => {\r\n  const self = e.target || e;\r\n  const key = setDateKey();\r\n  let value = parseInt(localStorage.getItem(key));\r\n\r\n  switch (self) {\r\n    case 'displayValue':\r\n      counter.innerHTML = value;\r\n      break;\r\n    \r\n    case addGlass:\r\n      value < counterMaxValue ? value++ : value = counterMaxValue;\r\n      localStorage.setItem(key, value);\r\n      hydrappArray[0].value = value;\r\n      counter.innerHTML = value;\r\n      break;\r\n\r\n    case removeGlass:\r\n      value > 0 ? value-- : value = 0;\r\n      localStorage.setItem(key, value);\r\n      hydrappArray[0].value = value;\r\n      counter.innerHTML = value;\r\n      break;\r\n  }\r\n}\r\n// F2 /////////////////////////////////////////////////////// ADD ARCHIVE NODE \r\n\r\nconst addArchiveNode = (index, option) => {\r\n\r\n  const {value, id, day, dayHtml, weekHtml} = hydrappArray[index];\r\n  \r\n  // add new week\r\n  ((day === 'sunday' || index === 0)) && option !== 'add'\r\n  ? archiveWeeks.insertAdjacentHTML('beforeend', weekHtml)\r\n  : false;\r\n  // add next day entry\r\n  let lastWeekList = archiveWeeks.lastElementChild.lastElementChild;\r\n  lastWeekList.insertAdjacentHTML('beforeend', dayHtml);\r\n  setIndicators(id, value);\r\n  updateWeekHeading();\r\n\r\n  // add 'add entry button at the end\r\n  if (index === hydrappArray.length - 1) {\r\n    day === 'monday'\r\n    ? archiveWeeks.insertAdjacentHTML(\"beforeend\", weekHtml)\r\n    : false;\r\n    lastWeekList = archiveWeeks.lastElementChild.lastElementChild;\r\n    lastWeekList.appendChild(addEntryButton);\r\n  }\r\n\r\n  // add event listeners to all edit buttons\r\n  const editButton = document.querySelectorAll('.edition__button--js-edit')[index];\r\n  editButton.index = index;\r\n  editButton.addEventListener('click', handleItemEdit);\r\n}\r\n// F2 //////////////////////////////////////////////////////////// SET ARCHIVE \r\n\r\nconst setArchiveDOM = () => {\r\n  \r\n  //archiveWeeks.innerHTML += archiveEmpty;\r\n  for (let i = 0; i < hydrappArray.length; i++) {\r\n    addArchiveNode(i);\r\n  }\r\n  handleArchiveLastEntry();\r\n}\r\n// F2 /////////////////////////////////////////////////////// SET WEEK HEADING \r\n\r\nconst updateWeekHeading = () => {\r\n\r\n  const weekLists = document.querySelectorAll('.week__list--js');\r\n  const weekHeadings = document.querySelectorAll('.week__heading--js');\r\n\r\n  const getDate = (element) => {\r\n\r\n    if (element) {\r\n      return element.className\r\n        .split(' ')\r\n        .filter(a => /hydrApp/.test(a))\r\n        .toString()\r\n        .slice(10)\r\n        .split('-')\r\n        .reverse()\r\n        .join('.')\r\n        ;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  for (let i = 0; i < weekLists.length; i++) {\r\n\r\n    const entries = weekLists[i].querySelectorAll('.entry--js');\r\n    const startDate = getDate(entries[entries.length - 1]);\r\n    const endDate = getDate(entries[0]);\r\n    const heading = weekHeadings[i];\r\n\r\n    heading.textContent = `${startDate\r\n    ? (startDate === endDate ? startDate : `${startDate.slice(0,5)} - ${endDate}`)\r\n    : `New Week`}`;\r\n  }\r\n}\r\n// F1 /////////////////////////////////////////////////////////// SHOW ARCHIVE \r\n\r\nconst showArchive = () => {\r\n\r\n  entries = document.querySelectorAll('.entry--js');\r\n\r\n  if (archive.classList.contains('archive--visible')) {\r\n    archive.classList.remove('archive--visible')\r\n    window.removeEventListener('keydown', enterNewEntryValue);\r\n    window.removeEventListener('keydown', removeLastEntry);\r\n\r\n  } else {\r\n\r\n    for (const entry of entries) {\r\n      entry.classList.contains('entry--visible')\r\n      ? entry.classList.remove('entry--visible')\r\n      : false;\r\n    }\r\n    archive.classList.add('archive--visible');\r\n\r\n    /* hydrappArray.length === 1\r\n    ? archiveWeeks.firstElementChild.classList.add('week__empty--visible')\r\n    : false; */\r\n\r\n    window.addEventListener('keydown', enterNewEntryValue);\r\n    window.addEventListener('keydown', removeLastEntry);\r\n  }\r\n}\r\n// F1 ////////////////////////////////////////// ARCHIVE MODAL << SHOW ARCHIVE \r\n\r\nconst enterNewEntryValue = (e) => {\r\n\r\n  const self = e.keyCode || e.target;\r\n  e.preventDefault();\r\n  const addEntryButton = document.querySelector('.entry__button--js-add');\r\n\r\n  if (self === 107 || self === addEntryButton) {\r\n\r\n    let value = 0;\r\n    newEntryMode.classList.add('new-entry--visible');\r\n    newEntryValue.textContent = value;\r\n  \r\n    const modeOff = () => {\r\n      newEntryMode.classList.remove('new-entry--visible');\r\n      newEntryMode.removeEventListener('click', handleValue);\r\n      window.removeEventListener('keydown', handleValue);\r\n      window.addEventListener('keydown', enterNewEntryValue);\r\n    }\r\n  \r\n    const handleValue = (e) => {\r\n  \r\n      const self = e.keyCode || e.target;\r\n  \r\n      switch (self) {\r\n  \r\n        case 37:\r\n        case newEntryDecrease:\r\n          value !== 0 ? value-- : false;\r\n          newEntryValue.textContent = value;\r\n          break;\r\n\r\n        case 39:\r\n        case newEntryIncrease:\r\n          value !== counterMaxValue ? value++ : false;\r\n          newEntryValue.textContent = value;\r\n          break;\r\n  \r\n        case 27:\r\n        case newEntryCancel:\r\n          modeOff();\r\n          break;\r\n  \r\n        case 13:\r\n        case newEntrySave:\r\n          addNewEntry(e, value);\r\n          modeOff();\r\n          break;\r\n      }\r\n    }\r\n    newEntryMode.addEventListener('click', handleValue);\r\n    window.addEventListener('keydown', handleValue);\r\n    window.removeEventListener('keydown', enterNewEntryValue);\r\n  }\r\n}\r\n// F1 /////////////////////////////////////////// ADD NEW ITEM << SHOW ARCHIVE \r\n\r\nconst addNewEntry = (e, value) => {\r\n\r\n  const self = e.keyCode || e.target;\r\n\r\n  if (self === 13 || self === newEntrySave) {\r\n    let lastEntryIndex = hydrappArray.length - 1;\r\n    const lastEntry = document.querySelectorAll('.entry--js')[lastEntryIndex];\r\n    lastEntry.classList.remove('entry--last');\r\n\r\n    lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n    const newEntryKey = setDateKey(lastEntryDate);\r\n    \r\n    setNewKeyValue(newEntryKey, value);\r\n    const newEntry = new Entry(lastEntryDate);\r\n    newEntry.value = newEntryKey;\r\n    hydrappArray.push(newEntry);\r\n\r\n    lastEntryIndex = hydrappArray.length - 1;\r\n    addArchiveNode(lastEntryIndex, 'add');\r\n    handleArchiveLastEntry();\r\n  }\r\n}\r\n// F1 /////////////////////////////////////////////// ADJUST LAST ITEM OF LIST \r\n\r\nconst handleArchiveLastEntry = () => {\r\n\r\n  const entries = document.querySelectorAll('.entry--js');\r\n  const lastEntry = entries[entries.length - 1];\r\n  const lastEntryValueNode = lastEntry.querySelector('.entry__value--js');\r\n\r\n  if (entries.length > 1) {\r\n    lastEntry.insertBefore(removeEntryButton, lastEntryValueNode);\r\n    lastEntry.classList.add('entry--last');\r\n  }\r\n}\r\n// F1 /////////////////////////////////////// REMOVE LAST ITEM << SHOW ARCHIVE \r\n\r\nconst removeLastEntry = (e) => {\r\n\r\n  const self = e.keyCode || e. target;\r\n  const lastEntryIndex = hydrappArray.length - 1;\r\n  const {day, key} = hydrappArray[lastEntryIndex];\r\n  const lastEntryNode = document.querySelectorAll('.entry--js')[lastEntryIndex];\r\n\r\n  if (self === 109 || self === removeEntryButton) {\r\n\r\n    if (hydrappArray.length > 1) {\r\n\r\n      hydrappArray.pop();\r\n      localStorage.removeItem(key);\r\n      lastEntryDate.setDate(lastEntryDate.getDate() + 1);\r\n      lastEntryNode.parentNode.removeChild(lastEntryNode);\r\n\r\n      // removing last week section after deleting last day of that week\r\n      if (day === 'monday') {\r\n        archiveWeeks.removeChild(archiveWeeks.lastElementChild);\r\n        const lastWeekList = archiveWeeks.lastElementChild.lastElementChild;\r\n        lastWeekList.appendChild(addEntryButton);\r\n      }\r\n\r\n      // add remove button on current last item\r\n      handleArchiveLastEntry();\r\n      updateWeekHeading();\r\n    } else {\r\n\r\n    }\r\n  }\r\n}\r\n// F2 /////////////////////////////////////////////////////// HANDLE ITEM EDIT \r\n\r\nconst handleItemEdit = (e) => {\r\n  const itemIndex = e.target.index;\r\n\r\n  const entry = document.querySelectorAll('.entry--js')[itemIndex];\r\n  const entryHeader = document.querySelectorAll('.entry__header--js')[itemIndex];\r\n  const entryValue = document.querySelectorAll('.entry__value--js')[itemIndex];\r\n  const editSection = document.querySelectorAll('.edition--js')[itemIndex];\r\n  const decreaseButton = document.querySelectorAll('.edition__button--js-decrease')[itemIndex];\r\n  const increaseButton = document.querySelectorAll('.edition__button--js-increase')[itemIndex];\r\n  const cancelButton = document.querySelectorAll('.edition__button--js-cancel')[itemIndex];\r\n  const saveButton = document.querySelectorAll('.edition__button--js-save')[itemIndex];\r\n\r\n  // F0 ////////////////////////////// TOGGLE ITEM DISPLAY << HANDLE ITEM EDIT \r\n\r\n  const toggleItemDisplay = () => {\r\n\r\n    for (const editButton of editSection.children) {\r\n      editButton.classList.toggle('edition__button--visible');\r\n    }\r\n    editSection.classList.toggle('edition--visible');\r\n    entry.classList.toggle('entry--edit-mode');\r\n    entryHeader.classList.toggle('entry__header--edit-mode');\r\n\r\n    itemIndex === hydrappArray.length - 1\r\n    ? removeEntryButton.classList.toggle('entry__remove--hidden')\r\n    : false;\r\n  }\r\n  // F1 /////////////////////////////////// EXIT EDIT MODE << HANDLE ITEM EDIT \r\n\r\n  const exitEditMode = () => {\r\n    const {value, id} = hydrappArray[itemIndex];\r\n    \r\n    toggleItemDisplay();\r\n    entryValue.textContent = value;\r\n    setIndicators(id, value);\r\n\r\n    archive.removeEventListener('click', handleEdition);\r\n    archive.removeEventListener('keydown', handleEdition);\r\n  }\r\n  // F1 /////////////////////////////////// HANDLE EDITION << HANDLE ITEM EDIT \r\n\r\n  const handleEdition = (e) => {\r\n    const self = e.keyCode || e.target;\r\n    let dayValue = parseInt(entryValue.textContent);\r\n\r\n    const {key, id} = hydrappArray[itemIndex];\r\n\r\n    switch (self) {\r\n\r\n      case 37:\r\n      case decreaseButton:\r\n        e.preventDefault();\r\n        dayValue > 0 ? dayValue-- : false;\r\n        entryValue.textContent = dayValue;\r\n        setIndicators(id, dayValue);\r\n      break;\r\n      \r\n      case 39:\r\n      case increaseButton:\r\n        e.preventDefault();\r\n        dayValue < counterMaxValue ? dayValue++ : false;\r\n        entryValue.textContent = dayValue;\r\n        setIndicators(id, dayValue);\r\n      break;\r\n\r\n      case 27:\r\n      case archiveOverlay:\r\n      case cancelButton:\r\n        e.preventDefault();\r\n        exitEditMode();\r\n      break;\r\n\r\n      case 13:\r\n      case saveButton:\r\n        e.preventDefault();\r\n        localStorage.setItem(key, dayValue);\r\n        // setter function\r\n        hydrappArray[itemIndex].value = key;\r\n        exitEditMode();\r\n      break;\r\n    }\r\n  }\r\n  ///////////////////////////////////////// FUNCTION CALLS << HANDLE ITEM EDIT \r\n\r\n  toggleItemDisplay();\r\n  archive.addEventListener('click', handleEdition);\r\n  archive.addEventListener('keydown', handleEdition);\r\n\r\n}\r\n// F2 //////////////////////////////////////////////// END OF HANDLE ITEM EDIT \r\n\r\n/*\r\n##     ##    ###    ########  ####    ###    ########  ##       ########  ######\r\n##     ##   ## ##   ##     ##  ##    ## ##   ##     ## ##       ##       ##    ##\r\n##     ##  ##   ##  ##     ##  ##   ##   ##  ##     ## ##       ##       ##\r\n##     ## ##     ## ########   ##  ##     ## ########  ##       ######    ######\r\n ##   ##  ######### ##   ##    ##  ######### ##     ## ##       ##             ##\r\n  ## ##   ##     ## ##    ##   ##  ##     ## ##     ## ##       ##       ##    ##\r\n   ###    ##     ## ##     ## #### ##     ## ########  ######## ########  ######\r\n*/\r\n\r\n//////////////////////////////////////////////////////////////////// VARIABLES \r\n// APP\r\nconst appContainer = document.querySelector('.app__container--js');\r\nconst addGlass = document.querySelector('.app__button--js-add');\r\nconst removeGlass = document.querySelector('.app__button--js-remove');\r\nconst counter = document.querySelector('.glass__counter--js');\r\nconst counterMaxValue = 99;\r\n// ARCHIVE\r\nconst archive = document.querySelector('.archive--js');\r\nconst archiveOverlay = document.querySelector('.archive__overlay--js');\r\nconst archiveWeeks = document.querySelector('.archive__weeks--js');\r\nconst archiveButton = document.querySelector('.navigation__button--js-archive');\r\nconst prevWeekButton = document.querySelector('.archive__button--js-prev');\r\nconst nextWeekButton = document.querySelector('.archive__button--js-next');\r\nconst addEntryButton = createAddEntryButton();\r\nconst removeEntryButton = createRemoveEntryButton();\r\n// NEW ENTRY\r\nconst newEntryMode = document.querySelector('.new-entry--js');\r\nconst newEntryValue = document.querySelector('.new-entry__value--js');\r\nconst newEntryDecrease = document.querySelector('.new-entry__button--js-decrease');\r\nconst newEntryIncrease = document.querySelector('.new-entry__button--js-increase');\r\nconst newEntryCancel = document.querySelector('.new-entry__button--js-cancel');\r\nconst newEntrySave = document.querySelector('.new-entry__button--js-save');\r\n// STATS\r\nconst statsButton = document.querySelector('.navigation__button--js-stats');\r\n\r\n/////////////////////////////////////////////////////////////// FUNCTION CALLS \r\n\r\nhandleData();\r\nsetArchiveDOM();\r\nupdateWeekHeading();\r\n\r\n//////////////////////////////////////////////////////////////////// VARIABLES \r\n\r\nlet editButtons = document.querySelectorAll('.edition__button--js-edit');\r\nlet entries = document.querySelectorAll('.entry--js');\r\nconst addNewDayButton = document.querySelector('.entry__button--js-add');\r\n\r\n////////////////////////////////////////////////////////////// EVENT LISTENERS \r\n\r\nshowArchive();  // ! for tests\r\n\r\nappContainer.addEventListener('click', updateCounter);\r\narchiveButton.addEventListener('click', showArchive);\r\n//loadMoreButton.addEventListener('click', loadMoreItems);\r\n\r\n/* for (let i = 0; i < editButtons.length; i++) {\r\n  const editButton = editButtons[i];\r\n  editButton.index = i;\r\n  editButton.addEventListener('click', handleItemEdit);\r\n} *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsbURBQW1ELElBQUksc0JBQXNCLEVBQUU7QUFDL0UsK0NBQStDLEVBQUU7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBLDBEQUEwRCxTQUFTO0FBQ25FLG1GQUFtRixVQUFVO0FBQzdGO0FBQ0Esc0RBQXNELFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSw4REFBOEQsR0FBRztBQUNqRSw2REFBNkQsR0FBRyx1QkFBdUIsTUFBTTs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVMsa0NBQWtDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCO0FBQzdCLDhDQUE4QyxxQkFBcUIsS0FBSyxRQUFRO0FBQ2hGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLFFBQVE7O0FBRW5COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBOztBQUVBLGtCQUFrQix3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0VSVklDRSBXT1JLRVIgXHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZXdvcmtlci5qcycpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgIC8vIFJlZ2lzdHJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxyXG4gICAgICAvL2NvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgLy8gcmVnaXN0cmF0aW9uIGZhaWxlZCA6KFxyXG4gICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCBlcnIpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR0xPQkFMIFZBUklBQkxFUyBcclxuXHJcbmNvbnN0IGh5ZHJhcHBBcnJheSA9IFtdO1xyXG5jb25zdCBsYXN0RW50cnlEYXRlID0gbmV3IERhdGUoKTtcclxuY29uc3Qgd2Vla0RheSA9IFsnc3VuZGF5JywnbW9uZGF5JywndHVlc2RheScsJ3dlZG5lc2RheScsJ3RodXJzZGF5JywnZnJpZGF5Jywnc2F0dXJkYXknXTtcclxuXHJcbmxldCBpbmRpY2F0b3JzID0gJyc7XHJcbmZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcbiAgaW5kaWNhdG9ycyArPSBgXHJcbiAgPHN2ZyBjbGFzcz1cImluZGljYXRvcl9fc3ZnIGluZGljYXRvcl9fc3ZnLS1lbW8tJHtpKzF9IGluZGljYXRvcl9fc3ZnLS1qcy0ke2l9XCI+XHJcbiAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNlbW90aWNvbi0ke2l9XCI+PC91c2U+XHJcbiAgPC9zdmc+YFxyXG59XHJcblxyXG5jb25zdCBhcmNoaXZlRW1wdHkgPSBgXHJcbjxwIGNsYXNzPVwid2Vla19fZW1wdHlcIj5ObyBoaXN0b3J5IHlldC4uLjwvcD5cclxuYDtcclxuXHJcbmNvbnN0IGFkZEJ1dHRvbkh0bWwgPSBgXHJcbjxsaSBjbGFzcz1cImVudHJ5IGVudHJ5LS1hZGQgZW50cnktLWpzLWFkZFwiPlxyXG4gIDxidXR0b24gY2xhc3M9XCJidXR0b24gZW50cnlfX2J1dHRvbiBlbnRyeV9fYnV0dG9uLS1hZGQgZW50cnlfX2J1dHRvbi0tanMtYWRkXCI+XHJcbiAgICBBZGQgbmV3IGRheS4uXHJcbiAgPC9idXR0b24+XHJcbjwvbGk+XHJcbmA7XHJcblxyXG5jbGFzcyBFbnRyeSB7XHJcbiAgY29uc3RydWN0b3IoZGF0ZSkge1xyXG4gICAgdGhpcy5rZXkgPSBzZXREYXRlS2V5KGRhdGUpO1xyXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMua2V5O1xyXG4gICAgdGhpcy5kYXRlID0gZGF0ZTtcclxuICAgIHRoaXMuaWQgPSB0aGlzLmRhdGU7XHJcbiAgICB0aGlzLmRheSA9IGRhdGU7XHJcblxyXG4gICAgdGhpcy53ZWVrSHRtbCA9IGBcclxuICAgICAgPHNlY3Rpb24gY2xhc3M9XCJ3ZWVrXCI+XHJcbiAgICAgICAgPGgzIGNsYXNzPVwid2Vla19faGVhZGluZyB3ZWVrX19oZWFkaW5nLS1qc1wiPk5ldyB3ZWVrPC9oMz5cclxuICAgICAgICA8dWwgY2xhc3M9XCJ3ZWVrX19saXN0IHdlZWtfX2xpc3QtLWpzXCI+PC91bD5cclxuICAgICAgPC9zZWN0aW9uPlxyXG4gICAgYDtcclxuXHJcbiAgICB0aGlzLmRheUh0bWwgPSBgXHJcbiAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERBWSBJVEVNIC0tPlxyXG4gICAgICA8bGkgY2xhc3M9XCJlbnRyeSBlbnRyeS0tanMgJHt0aGlzLmtleX1cIj5cclxuICAgICAgICA8aGVhZGVyIGNsYXNzPVwiZW50cnlfX2hlYWRlciBlbnRyeV9faGVhZGVyLS1qc1wiPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJlbnRyeV9faGVhZGluZyBlbnRyeV9faGVhZGluZy0tZGF5XCI+JHt0aGlzLmRheX08L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImVudHJ5X19oZWFkaW5nIGVudHJ5X19oZWFkaW5nLS1kYXRlIGVudHJ5X19oZWFkaW5nLS1qcy1kYXRlXCI+JHt0aGlzLmRhdGV9PC9wPlxyXG4gICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZW50cnlfX3ZhbHVlIGVudHJ5X192YWx1ZS0tanNcIj4ke3RoaXMudmFsdWV9PC9zcGFuPlxyXG4gICAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVESVRJT04gQlVUVE9OUyAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZWRpdGlvbiBlZGl0aW9uLS1qc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBlZGl0aW9uX19idXR0b24gZWRpdGlvbl9fYnV0dG9uLS12aXNpYmxlIGVkaXRpb25fX2J1dHRvbi0tZWRpdCBlZGl0aW9uX19idXR0b24tLWpzLWVkaXRcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImVkaXRpb25fX3N2ZyBlZGl0aW9uX19zdmctLWVkaXRcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNlZGl0LW1vZGVcIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZWRpdGlvbl9fYnV0dG9uIGVkaXRpb25fX2J1dHRvbi0tZGVjcmVhc2UgZWRpdGlvbl9fYnV0dG9uLS1qcy1kZWNyZWFzZVwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZWRpdGlvbl9fc3ZnIGVkaXRpb25fX3N2Zy0tZGVjcmVhc2VcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNsZWZ0LWFycm93XCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLWluY3JlYXNlIGVkaXRpb25fX2J1dHRvbi0tanMtaW5jcmVhc2VcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImVkaXRpb25fX3N2ZyBlZGl0aW9uX19zdmctLWluY3JlYXNlXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjcmlnaHQtYXJyb3dcIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZWRpdGlvbl9fYnV0dG9uIGVkaXRpb25fX2J1dHRvbi0tY2FuY2VsIGVkaXRpb25fX2J1dHRvbi0tanMtY2FuY2VsXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1jYW5jZWxcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNiYWNrLWFycm93XCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLXNhdmUgZWRpdGlvbl9fYnV0dG9uLS1qcy1zYXZlXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1zYXZlXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjc2F2ZS1pY29uXCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgRURJVElPTiBCVVRUT05TIC0tPlxyXG4gICAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSU5ESUNBVE9SUyAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yIGluZGljYXRvci0tanMtJHt0aGlzLmlkfVwiPlxyXG4gICAgICAgICAgJHtpbmRpY2F0b3JzfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgSU5ESUNBVE9SUyAtLT5cclxuICAgICAgPC9saT5cclxuICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgREFZIElURU0gLS0+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHZhbHVlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gIH1cclxuICBzZXQgdmFsdWUoa2V5KSB7XHJcbiAgICB0aGlzLl92YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgfVxyXG4gIGdldCBkYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGU7XHJcbiAgfVxyXG4gIHNldCBkYXRlKGRhdGUpIHtcclxuICAgIHRoaXMuX2RhdGUgPSBnZXRPZmZzZXRlZERhdGUoZGF0ZSkudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKS5zcGxpdCgnLScpLnJldmVyc2UoKS5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcbiAgc2V0IGlkKGRhdGUpIHtcclxuICAgIHRoaXMuX2lkID0gZGF0ZS5yZXBsYWNlKC9cXHMvZywnJyk7XHJcbiAgfVxyXG4gIGdldCBkYXkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGF5O1xyXG4gIH1cclxuICBzZXQgZGF5KGRhdGUpIHtcclxuICAgIGNvbnN0IGRheUluZGV4ID0gZGF0ZS5nZXREYXkoKTtcclxuICAgIHRoaXMuX2RheSA9IHdlZWtEYXlbZGF5SW5kZXhdO1xyXG4gIH1cclxuXHJcbiAgLyogZ2V0IHRvdGFsSGVpZ2h0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsSGVpZ2h0O1xyXG4gIH1cclxuICBzZXQgdG90YWxIZWlnaHQoYW1vdW50KSB7XHJcbiAgICB0aGlzLl90b3RhbEhlaWdodCA9IGFtb3VudCAqIHRoaXMuaXRlbUhlaWdodDtcclxuICB9ICovXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OUyBcclxuXHJcbi8vIEYwIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBHRVQgT0ZGU0VURUQgREFURSBcclxuXHJcbmNvbnN0IGdldE9mZnNldGVkRGF0ZSA9IChvYmopID0+IHtcclxuICBjb25zdCB0aW1lWm9uZU9mZnNldCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7XHJcbiAgcmV0dXJuIChuZXcgRGF0ZShvYmogLSB0aW1lWm9uZU9mZnNldCkpO1xyXG59XHJcbi8vIEYwIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBDUkVBVEUgSFlEUkFQUCBEQVRFIEtFWSBcclxuXHJcbmNvbnN0IHNldERhdGVLZXkgPSAob2JqKSA9PiB7XHJcblxyXG4gIGNvbnN0IHRpbWVab25lT2Zmc2V0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMDtcclxuICBsZXQgZGF0ZU9iaiA9IG9iaiB8fCBuZXcgRGF0ZSgpO1xyXG4gIGRhdGVPYmogPSAobmV3IERhdGUoZGF0ZU9iaiAtIHRpbWVab25lT2Zmc2V0KSk7XHJcblxyXG4gIGNvbnN0IHByZWZpeCA9ICdoeWRyQXBwLSc7XHJcbiAgY29uc3QgZGF0ZVN0ciA9IGRhdGVPYmoudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKTtcclxuICByZXR1cm4gcHJlZml4LmNvbmNhdChkYXRlU3RyKTtcclxufVxyXG4vLyBGMCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBDUkVBVEUgQVJSQVkgT0YgSFlEUkFQUCBMT0NBTCBTVE9SQUdFIEtFWVMgXHJcblxyXG5jb25zdCBnZXRIeWRyYXBwS2V5cyA9ICgpID0+IHtcclxuICBjb25zdCByZWdleCA9IC9oeWRyQXBwLS87XHJcbiAgcmV0dXJuIE9iamVjdFxyXG4gIC5rZXlzKGxvY2FsU3RvcmFnZSlcclxuICAuZmlsdGVyKGtleSA9PiByZWdleC50ZXN0KGtleSkpXHJcbiAgLnNvcnQoKVxyXG4gIC5yZXZlcnNlKCk7XHJcbn1cclxuLy8gRjAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSBLRVkgVkFMVUUgUEFJUiBJTiBMT0NBTCBTVE9SQUdFIFxyXG5cclxuY29uc3Qgc2V0TmV3S2V5VmFsdWUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gIGlmICggIWxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICB9O1xyXG59XHJcbi8vIEYwIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBTRVQgSU5ESUNBVE9SUyBcclxuXHJcbmNvbnN0IHNldEluZGljYXRvcnMgPSAoaWQsIHZhbHVlKSA9PiB7XHJcblxyXG4gIHZhbHVlID4gNyA/IHZhbHVlID0gNyA6IGZhbHNlO1xyXG5cclxuICBjb25zdCBpbmRpY2F0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmluZGljYXRvci0tanMtJHtpZH1gKS5jaGlsZHJlbjtcclxuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaW5kaWNhdG9yLS1qcy0ke2lkfSAuaW5kaWNhdG9yX19zdmctLWpzLSR7dmFsdWV9YCk7XHJcbiAgXHJcbiAgZm9yIChjb25zdCBpbmRpY2F0b3Igb2YgaW5kaWNhdG9ycykge1xyXG4gICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucygnaW5kaWNhdG9yX19zdmctLXZpc2libGUnKVxyXG4gICAgPyBpbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaW5kaWNhdG9yX19zdmctLXZpc2libGUnKVxyXG4gICAgOiBmYWxzZTtcclxuICB9XHJcbiAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvcl9fc3ZnLS12aXNpYmxlJyk7XHJcbn1cclxuLy8gRjAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSBBREQgRU5UUlkgQlVUVE9OIFxyXG5cclxuY29uc3QgY3JlYXRlQWRkRW50cnlCdXR0b24gPSAoKSA9PiB7XHJcbiAgY29uc3QgYWRkRW50cnlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gIGFkZEVudHJ5QnV0dG9uLmNsYXNzTmFtZSA9ICdlbnRyeSBlbnRyeV9fYWRkJztcclxuICBhZGRFbnRyeUJ1dHRvbi5pbm5lckhUTUwgPSBgXHJcbiAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVudHJ5X19idXR0b24gZW50cnlfX2J1dHRvbi0tYWRkIGVudHJ5X19idXR0b24tLWpzLWFkZFwiPlxyXG4gICAgICBBZGQgbmV3IGRheS4uXHJcbiAgICA8L2J1dHRvbj5cclxuICBgO1xyXG4gIGFkZEVudHJ5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW50ZXJOZXdFbnRyeVZhbHVlKTtcclxuXHJcbiAgcmV0dXJuIGFkZEVudHJ5QnV0dG9uO1xyXG59XHJcbi8vIEYwIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSAnUkVNT1ZFIElURU0nIEJVVFRPTiBcclxuXHJcbmNvbnN0IGNyZWF0ZVJlbW92ZUVudHJ5QnV0dG9uID0gKCkgPT4ge1xyXG5cclxuICBjb25zdCByZW1vdmVFbnRyeUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gIHJlbW92ZUVudHJ5QnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24gZW50cnlfX3JlbW92ZSc7XHJcbiAgcmVtb3ZlRW50cnlCdXR0b24uaW5uZXJIVE1MID0gYFxyXG4gICAgPHN2ZyBjbGFzcz1cImVudHJ5X19zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj5cclxuICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjcmVtb3ZlLWljb25cIj48L3VzZT5cclxuICAgIDwvc3ZnPlxyXG4gIGBcclxuICByZW1vdmVFbnRyeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUxhc3RFbnRyeSk7XHJcblxyXG4gIHJldHVybiByZW1vdmVFbnRyeUJ1dHRvbjtcclxufVxyXG4vLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0VUIExPQ0FMIFNUT1JBR0UgXHJcblxyXG5jb25zdCBoYW5kbGVEYXRhID0gKCkgPT4ge1xyXG5cclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICBsZXQgZGF0ZUtleSA9IHNldERhdGVLZXkoZGF0ZSk7XHJcbiAgc2V0TmV3S2V5VmFsdWUoZGF0ZUtleSwgMCk7XHJcbiAgbGV0IGh5ZHJhcHBLZXlzID0gZ2V0SHlkcmFwcEtleXMoKTtcclxuICBjb25zdCBvbGRlc3RLZXkgPSBoeWRyYXBwS2V5c1toeWRyYXBwS2V5cy5sZW5ndGggLSAxXTtcclxuICBcclxuICAvLyBjcmVhdGUgb2JqZWN0IGZvciBlYWNoIGtleVxyXG4gIGNvbnN0IGNyZWF0ZUVudHJ5T2JqZWN0ID0gKGRhdGUpID0+IHtcclxuICAgIGNvbnN0IG5ld0VudHJ5ID0gbmV3IEVudHJ5KGRhdGUpO1xyXG4gICAgaHlkcmFwcEFycmF5LnB1c2gobmV3RW50cnkpO1xyXG4gIH1cclxuICAvLyBmaXJzdCBvYmplY3Qgb2YgYXJyYXlcclxuICBjcmVhdGVFbnRyeU9iamVjdChkYXRlKTtcclxuXHJcbiAgLy8gYXV0b2NvbXBsZXRlIHRoZSByZXN0IG9mIGtleXMgaWYgbmVlZGVkXHJcbiAgd2hpbGUgKGRhdGVLZXkgIT09IG9sZGVzdEtleSkge1xyXG4gICAgZGF0ZUtleSA9IHNldERhdGVLZXkoZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMSkpO1xyXG4gICAgbGFzdEVudHJ5RGF0ZS5zZXREYXRlKGxhc3RFbnRyeURhdGUuZ2V0RGF0ZSgpIC0gMSk7XHJcbiAgICBzZXROZXdLZXlWYWx1ZShkYXRlS2V5LCAwKTtcclxuICAgIGNyZWF0ZUVudHJ5T2JqZWN0KGRhdGUpO1xyXG4gIH1cclxuICAvL2NvdW50ZXIuaW5uZXJIVE1MID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGF0ZUtleSk7XHJcbiAgdXBkYXRlQ291bnRlcignZGlzcGxheVZhbHVlJyk7XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFVQREFURSBDT1VOVEVSIFxyXG5cclxuY29uc3QgdXBkYXRlQ291bnRlciA9IChlKSA9PiB7XHJcbiAgY29uc3Qgc2VsZiA9IGUudGFyZ2V0IHx8IGU7XHJcbiAgY29uc3Qga2V5ID0gc2V0RGF0ZUtleSgpO1xyXG4gIGxldCB2YWx1ZSA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xyXG5cclxuICBzd2l0Y2ggKHNlbGYpIHtcclxuICAgIGNhc2UgJ2Rpc3BsYXlWYWx1ZSc6XHJcbiAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgXHJcbiAgICBjYXNlIGFkZEdsYXNzOlxyXG4gICAgICB2YWx1ZSA8IGNvdW50ZXJNYXhWYWx1ZSA/IHZhbHVlKysgOiB2YWx1ZSA9IGNvdW50ZXJNYXhWYWx1ZTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgIGh5ZHJhcHBBcnJheVswXS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICBjb3VudGVyLmlubmVySFRNTCA9IHZhbHVlO1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIHJlbW92ZUdsYXNzOlxyXG4gICAgICB2YWx1ZSA+IDAgPyB2YWx1ZS0tIDogdmFsdWUgPSAwO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICAgICAgaHlkcmFwcEFycmF5WzBdLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG4vLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFERCBBUkNISVZFIE5PREUgXHJcblxyXG5jb25zdCBhZGRBcmNoaXZlTm9kZSA9IChpbmRleCwgb3B0aW9uKSA9PiB7XHJcblxyXG4gIGNvbnN0IHt2YWx1ZSwgaWQsIGRheSwgZGF5SHRtbCwgd2Vla0h0bWx9ID0gaHlkcmFwcEFycmF5W2luZGV4XTtcclxuICBcclxuICAvLyBhZGQgbmV3IHdlZWtcclxuICAoKGRheSA9PT0gJ3N1bmRheScgfHwgaW5kZXggPT09IDApKSAmJiBvcHRpb24gIT09ICdhZGQnXHJcbiAgPyBhcmNoaXZlV2Vla3MuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB3ZWVrSHRtbClcclxuICA6IGZhbHNlO1xyXG4gIC8vIGFkZCBuZXh0IGRheSBlbnRyeVxyXG4gIGxldCBsYXN0V2Vla0xpc3QgPSBhcmNoaXZlV2Vla3MubGFzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkO1xyXG4gIGxhc3RXZWVrTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGRheUh0bWwpO1xyXG4gIHNldEluZGljYXRvcnMoaWQsIHZhbHVlKTtcclxuICB1cGRhdGVXZWVrSGVhZGluZygpO1xyXG5cclxuICAvLyBhZGQgJ2FkZCBlbnRyeSBidXR0b24gYXQgdGhlIGVuZFxyXG4gIGlmIChpbmRleCA9PT0gaHlkcmFwcEFycmF5Lmxlbmd0aCAtIDEpIHtcclxuICAgIGRheSA9PT0gJ21vbmRheSdcclxuICAgID8gYXJjaGl2ZVdlZWtzLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCB3ZWVrSHRtbClcclxuICAgIDogZmFsc2U7XHJcbiAgICBsYXN0V2Vla0xpc3QgPSBhcmNoaXZlV2Vla3MubGFzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkO1xyXG4gICAgbGFzdFdlZWtMaXN0LmFwcGVuZENoaWxkKGFkZEVudHJ5QnV0dG9uKTtcclxuICB9XHJcblxyXG4gIC8vIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGVkaXQgYnV0dG9uc1xyXG4gIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1lZGl0JylbaW5kZXhdO1xyXG4gIGVkaXRCdXR0b24uaW5kZXggPSBpbmRleDtcclxuICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSXRlbUVkaXQpO1xyXG59XHJcbi8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBTRVQgQVJDSElWRSBcclxuXHJcbmNvbnN0IHNldEFyY2hpdmVET00gPSAoKSA9PiB7XHJcbiAgXHJcbiAgLy9hcmNoaXZlV2Vla3MuaW5uZXJIVE1MICs9IGFyY2hpdmVFbXB0eTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGh5ZHJhcHBBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgYWRkQXJjaGl2ZU5vZGUoaSk7XHJcbiAgfVxyXG4gIGhhbmRsZUFyY2hpdmVMYXN0RW50cnkoKTtcclxufVxyXG4vLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNFVCBXRUVLIEhFQURJTkcgXHJcblxyXG5jb25zdCB1cGRhdGVXZWVrSGVhZGluZyA9ICgpID0+IHtcclxuXHJcbiAgY29uc3Qgd2Vla0xpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndlZWtfX2xpc3QtLWpzJyk7XHJcbiAgY29uc3Qgd2Vla0hlYWRpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndlZWtfX2hlYWRpbmctLWpzJyk7XHJcblxyXG4gIGNvbnN0IGdldERhdGUgPSAoZWxlbWVudCkgPT4ge1xyXG5cclxuICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTmFtZVxyXG4gICAgICAgIC5zcGxpdCgnICcpXHJcbiAgICAgICAgLmZpbHRlcihhID0+IC9oeWRyQXBwLy50ZXN0KGEpKVxyXG4gICAgICAgIC50b1N0cmluZygpXHJcbiAgICAgICAgLnNsaWNlKDEwKVxyXG4gICAgICAgIC5zcGxpdCgnLScpXHJcbiAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgIC5qb2luKCcuJylcclxuICAgICAgICA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2Vla0xpc3RzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgY29uc3QgZW50cmllcyA9IHdlZWtMaXN0c1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuZW50cnktLWpzJyk7XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSBnZXREYXRlKGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXSk7XHJcbiAgICBjb25zdCBlbmREYXRlID0gZ2V0RGF0ZShlbnRyaWVzWzBdKTtcclxuICAgIGNvbnN0IGhlYWRpbmcgPSB3ZWVrSGVhZGluZ3NbaV07XHJcblxyXG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IGAke3N0YXJ0RGF0ZVxyXG4gICAgPyAoc3RhcnREYXRlID09PSBlbmREYXRlID8gc3RhcnREYXRlIDogYCR7c3RhcnREYXRlLnNsaWNlKDAsNSl9IC0gJHtlbmREYXRlfWApXHJcbiAgICA6IGBOZXcgV2Vla2B9YDtcclxuICB9XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0hPVyBBUkNISVZFIFxyXG5cclxuY29uc3Qgc2hvd0FyY2hpdmUgPSAoKSA9PiB7XHJcblxyXG4gIGVudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW50cnktLWpzJyk7XHJcblxyXG4gIGlmIChhcmNoaXZlLmNsYXNzTGlzdC5jb250YWlucygnYXJjaGl2ZS0tdmlzaWJsZScpKSB7XHJcbiAgICBhcmNoaXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2FyY2hpdmUtLXZpc2libGUnKVxyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlck5ld0VudHJ5VmFsdWUpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByZW1vdmVMYXN0RW50cnkpO1xyXG5cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xyXG4gICAgICBlbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2VudHJ5LS12aXNpYmxlJylcclxuICAgICAgPyBlbnRyeS5jbGFzc0xpc3QucmVtb3ZlKCdlbnRyeS0tdmlzaWJsZScpXHJcbiAgICAgIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICBhcmNoaXZlLmNsYXNzTGlzdC5hZGQoJ2FyY2hpdmUtLXZpc2libGUnKTtcclxuXHJcbiAgICAvKiBoeWRyYXBwQXJyYXkubGVuZ3RoID09PSAxXHJcbiAgICA/IGFyY2hpdmVXZWVrcy5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCd3ZWVrX19lbXB0eS0tdmlzaWJsZScpXHJcbiAgICA6IGZhbHNlOyAqL1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJOZXdFbnRyeVZhbHVlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcmVtb3ZlTGFzdEVudHJ5KTtcclxuICB9XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFSQ0hJVkUgTU9EQUwgPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuY29uc3QgZW50ZXJOZXdFbnRyeVZhbHVlID0gKGUpID0+IHtcclxuXHJcbiAgY29uc3Qgc2VsZiA9IGUua2V5Q29kZSB8fCBlLnRhcmdldDtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgYWRkRW50cnlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW50cnlfX2J1dHRvbi0tanMtYWRkJyk7XHJcblxyXG4gIGlmIChzZWxmID09PSAxMDcgfHwgc2VsZiA9PT0gYWRkRW50cnlCdXR0b24pIHtcclxuXHJcbiAgICBsZXQgdmFsdWUgPSAwO1xyXG4gICAgbmV3RW50cnlNb2RlLmNsYXNzTGlzdC5hZGQoJ25ldy1lbnRyeS0tdmlzaWJsZScpO1xyXG4gICAgbmV3RW50cnlWYWx1ZS50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gIFxyXG4gICAgY29uc3QgbW9kZU9mZiA9ICgpID0+IHtcclxuICAgICAgbmV3RW50cnlNb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ25ldy1lbnRyeS0tdmlzaWJsZScpO1xyXG4gICAgICBuZXdFbnRyeU1vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVWYWx1ZSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlVmFsdWUpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVudGVyTmV3RW50cnlWYWx1ZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBjb25zdCBoYW5kbGVWYWx1ZSA9IChlKSA9PiB7XHJcbiAgXHJcbiAgICAgIGNvbnN0IHNlbGYgPSBlLmtleUNvZGUgfHwgZS50YXJnZXQ7XHJcbiAgXHJcbiAgICAgIHN3aXRjaCAoc2VsZikge1xyXG4gIFxyXG4gICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgY2FzZSBuZXdFbnRyeURlY3JlYXNlOlxyXG4gICAgICAgICAgdmFsdWUgIT09IDAgPyB2YWx1ZS0tIDogZmFsc2U7XHJcbiAgICAgICAgICBuZXdFbnRyeVZhbHVlLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAzOTpcclxuICAgICAgICBjYXNlIG5ld0VudHJ5SW5jcmVhc2U6XHJcbiAgICAgICAgICB2YWx1ZSAhPT0gY291bnRlck1heFZhbHVlID8gdmFsdWUrKyA6IGZhbHNlO1xyXG4gICAgICAgICAgbmV3RW50cnlWYWx1ZS50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgXHJcbiAgICAgICAgY2FzZSAyNzpcclxuICAgICAgICBjYXNlIG5ld0VudHJ5Q2FuY2VsOlxyXG4gICAgICAgICAgbW9kZU9mZigpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgXHJcbiAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICBjYXNlIG5ld0VudHJ5U2F2ZTpcclxuICAgICAgICAgIGFkZE5ld0VudHJ5KGUsIHZhbHVlKTtcclxuICAgICAgICAgIG1vZGVPZmYoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBuZXdFbnRyeU1vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVWYWx1ZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZVZhbHVlKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJOZXdFbnRyeVZhbHVlKTtcclxuICB9XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBBREQgTkVXIElURU0gPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuY29uc3QgYWRkTmV3RW50cnkgPSAoZSwgdmFsdWUpID0+IHtcclxuXHJcbiAgY29uc3Qgc2VsZiA9IGUua2V5Q29kZSB8fCBlLnRhcmdldDtcclxuXHJcbiAgaWYgKHNlbGYgPT09IDEzIHx8IHNlbGYgPT09IG5ld0VudHJ5U2F2ZSkge1xyXG4gICAgbGV0IGxhc3RFbnRyeUluZGV4ID0gaHlkcmFwcEFycmF5Lmxlbmd0aCAtIDE7XHJcbiAgICBjb25zdCBsYXN0RW50cnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW50cnktLWpzJylbbGFzdEVudHJ5SW5kZXhdO1xyXG4gICAgbGFzdEVudHJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2VudHJ5LS1sYXN0Jyk7XHJcblxyXG4gICAgbGFzdEVudHJ5RGF0ZS5zZXREYXRlKGxhc3RFbnRyeURhdGUuZ2V0RGF0ZSgpIC0gMSk7XHJcbiAgICBjb25zdCBuZXdFbnRyeUtleSA9IHNldERhdGVLZXkobGFzdEVudHJ5RGF0ZSk7XHJcbiAgICBcclxuICAgIHNldE5ld0tleVZhbHVlKG5ld0VudHJ5S2V5LCB2YWx1ZSk7XHJcbiAgICBjb25zdCBuZXdFbnRyeSA9IG5ldyBFbnRyeShsYXN0RW50cnlEYXRlKTtcclxuICAgIG5ld0VudHJ5LnZhbHVlID0gbmV3RW50cnlLZXk7XHJcbiAgICBoeWRyYXBwQXJyYXkucHVzaChuZXdFbnRyeSk7XHJcblxyXG4gICAgbGFzdEVudHJ5SW5kZXggPSBoeWRyYXBwQXJyYXkubGVuZ3RoIC0gMTtcclxuICAgIGFkZEFyY2hpdmVOb2RlKGxhc3RFbnRyeUluZGV4LCAnYWRkJyk7XHJcbiAgICBoYW5kbGVBcmNoaXZlTGFzdEVudHJ5KCk7XHJcbiAgfVxyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFESlVTVCBMQVNUIElURU0gT0YgTElTVCBcclxuXHJcbmNvbnN0IGhhbmRsZUFyY2hpdmVMYXN0RW50cnkgPSAoKSA9PiB7XHJcblxyXG4gIGNvbnN0IGVudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW50cnktLWpzJyk7XHJcbiAgY29uc3QgbGFzdEVudHJ5ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xyXG4gIGNvbnN0IGxhc3RFbnRyeVZhbHVlTm9kZSA9IGxhc3RFbnRyeS5xdWVyeVNlbGVjdG9yKCcuZW50cnlfX3ZhbHVlLS1qcycpO1xyXG5cclxuICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XHJcbiAgICBsYXN0RW50cnkuaW5zZXJ0QmVmb3JlKHJlbW92ZUVudHJ5QnV0dG9uLCBsYXN0RW50cnlWYWx1ZU5vZGUpO1xyXG4gICAgbGFzdEVudHJ5LmNsYXNzTGlzdC5hZGQoJ2VudHJ5LS1sYXN0Jyk7XHJcbiAgfVxyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBSRU1PVkUgTEFTVCBJVEVNIDw8IFNIT1cgQVJDSElWRSBcclxuXHJcbmNvbnN0IHJlbW92ZUxhc3RFbnRyeSA9IChlKSA9PiB7XHJcblxyXG4gIGNvbnN0IHNlbGYgPSBlLmtleUNvZGUgfHwgZS4gdGFyZ2V0O1xyXG4gIGNvbnN0IGxhc3RFbnRyeUluZGV4ID0gaHlkcmFwcEFycmF5Lmxlbmd0aCAtIDE7XHJcbiAgY29uc3Qge2RheSwga2V5fSA9IGh5ZHJhcHBBcnJheVtsYXN0RW50cnlJbmRleF07XHJcbiAgY29uc3QgbGFzdEVudHJ5Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbnRyeS0tanMnKVtsYXN0RW50cnlJbmRleF07XHJcblxyXG4gIGlmIChzZWxmID09PSAxMDkgfHwgc2VsZiA9PT0gcmVtb3ZlRW50cnlCdXR0b24pIHtcclxuXHJcbiAgICBpZiAoaHlkcmFwcEFycmF5Lmxlbmd0aCA+IDEpIHtcclxuXHJcbiAgICAgIGh5ZHJhcHBBcnJheS5wb3AoKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgbGFzdEVudHJ5RGF0ZS5zZXREYXRlKGxhc3RFbnRyeURhdGUuZ2V0RGF0ZSgpICsgMSk7XHJcbiAgICAgIGxhc3RFbnRyeU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsYXN0RW50cnlOb2RlKTtcclxuXHJcbiAgICAgIC8vIHJlbW92aW5nIGxhc3Qgd2VlayBzZWN0aW9uIGFmdGVyIGRlbGV0aW5nIGxhc3QgZGF5IG9mIHRoYXQgd2Vla1xyXG4gICAgICBpZiAoZGF5ID09PSAnbW9uZGF5Jykge1xyXG4gICAgICAgIGFyY2hpdmVXZWVrcy5yZW1vdmVDaGlsZChhcmNoaXZlV2Vla3MubGFzdEVsZW1lbnRDaGlsZCk7XHJcbiAgICAgICAgY29uc3QgbGFzdFdlZWtMaXN0ID0gYXJjaGl2ZVdlZWtzLmxhc3RFbGVtZW50Q2hpbGQubGFzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICBsYXN0V2Vla0xpc3QuYXBwZW5kQ2hpbGQoYWRkRW50cnlCdXR0b24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhZGQgcmVtb3ZlIGJ1dHRvbiBvbiBjdXJyZW50IGxhc3QgaXRlbVxyXG4gICAgICBoYW5kbGVBcmNoaXZlTGFzdEVudHJ5KCk7XHJcbiAgICAgIHVwZGF0ZVdlZWtIZWFkaW5nKCk7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgIH1cclxuICB9XHJcbn1cclxuLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuY29uc3QgaGFuZGxlSXRlbUVkaXQgPSAoZSkgPT4ge1xyXG4gIGNvbnN0IGl0ZW1JbmRleCA9IGUudGFyZ2V0LmluZGV4O1xyXG5cclxuICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbnRyeS0tanMnKVtpdGVtSW5kZXhdO1xyXG4gIGNvbnN0IGVudHJ5SGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVudHJ5X19oZWFkZXItLWpzJylbaXRlbUluZGV4XTtcclxuICBjb25zdCBlbnRyeVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVudHJ5X192YWx1ZS0tanMnKVtpdGVtSW5kZXhdO1xyXG4gIGNvbnN0IGVkaXRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRpb24tLWpzJylbaXRlbUluZGV4XTtcclxuICBjb25zdCBkZWNyZWFzZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWRlY3JlYXNlJylbaXRlbUluZGV4XTtcclxuICBjb25zdCBpbmNyZWFzZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWluY3JlYXNlJylbaXRlbUluZGV4XTtcclxuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1jYW5jZWwnKVtpdGVtSW5kZXhdO1xyXG4gIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1zYXZlJylbaXRlbUluZGV4XTtcclxuXHJcbiAgLy8gRjAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFRPR0dMRSBJVEVNIERJU1BMQVkgPDwgSEFORExFIElURU0gRURJVCBcclxuXHJcbiAgY29uc3QgdG9nZ2xlSXRlbURpc3BsYXkgPSAoKSA9PiB7XHJcblxyXG4gICAgZm9yIChjb25zdCBlZGl0QnV0dG9uIG9mIGVkaXRTZWN0aW9uLmNoaWxkcmVuKSB7XHJcbiAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWRpdGlvbl9fYnV0dG9uLS12aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgICBlZGl0U2VjdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdlZGl0aW9uLS12aXNpYmxlJyk7XHJcbiAgICBlbnRyeS5jbGFzc0xpc3QudG9nZ2xlKCdlbnRyeS0tZWRpdC1tb2RlJyk7XHJcbiAgICBlbnRyeUhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdlbnRyeV9faGVhZGVyLS1lZGl0LW1vZGUnKTtcclxuXHJcbiAgICBpdGVtSW5kZXggPT09IGh5ZHJhcHBBcnJheS5sZW5ndGggLSAxXHJcbiAgICA/IHJlbW92ZUVudHJ5QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VudHJ5X19yZW1vdmUtLWhpZGRlbicpXHJcbiAgICA6IGZhbHNlO1xyXG4gIH1cclxuICAvLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFWElUIEVESVQgTU9ERSA8PCBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICBjb25zdCBleGl0RWRpdE1vZGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7dmFsdWUsIGlkfSA9IGh5ZHJhcHBBcnJheVtpdGVtSW5kZXhdO1xyXG4gICAgXHJcbiAgICB0b2dnbGVJdGVtRGlzcGxheSgpO1xyXG4gICAgZW50cnlWYWx1ZS50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgc2V0SW5kaWNhdG9ycyhpZCwgdmFsdWUpO1xyXG5cclxuICAgIGFyY2hpdmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFZGl0aW9uKTtcclxuICAgIGFyY2hpdmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVkaXRpb24pO1xyXG4gIH1cclxuICAvLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBIQU5ETEUgRURJVElPTiA8PCBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICBjb25zdCBoYW5kbGVFZGl0aW9uID0gKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGYgPSBlLmtleUNvZGUgfHwgZS50YXJnZXQ7XHJcbiAgICBsZXQgZGF5VmFsdWUgPSBwYXJzZUludChlbnRyeVZhbHVlLnRleHRDb250ZW50KTtcclxuXHJcbiAgICBjb25zdCB7a2V5LCBpZH0gPSBoeWRyYXBwQXJyYXlbaXRlbUluZGV4XTtcclxuXHJcbiAgICBzd2l0Y2ggKHNlbGYpIHtcclxuXHJcbiAgICAgIGNhc2UgMzc6XHJcbiAgICAgIGNhc2UgZGVjcmVhc2VCdXR0b246XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRheVZhbHVlID4gMCA/IGRheVZhbHVlLS0gOiBmYWxzZTtcclxuICAgICAgICBlbnRyeVZhbHVlLnRleHRDb250ZW50ID0gZGF5VmFsdWU7XHJcbiAgICAgICAgc2V0SW5kaWNhdG9ycyhpZCwgZGF5VmFsdWUpO1xyXG4gICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgMzk6XHJcbiAgICAgIGNhc2UgaW5jcmVhc2VCdXR0b246XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRheVZhbHVlIDwgY291bnRlck1heFZhbHVlID8gZGF5VmFsdWUrKyA6IGZhbHNlO1xyXG4gICAgICAgIGVudHJ5VmFsdWUudGV4dENvbnRlbnQgPSBkYXlWYWx1ZTtcclxuICAgICAgICBzZXRJbmRpY2F0b3JzKGlkLCBkYXlWYWx1ZSk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAyNzpcclxuICAgICAgY2FzZSBhcmNoaXZlT3ZlcmxheTpcclxuICAgICAgY2FzZSBjYW5jZWxCdXR0b246XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV4aXRFZGl0TW9kZSgpO1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgMTM6XHJcbiAgICAgIGNhc2Ugc2F2ZUJ1dHRvbjpcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBkYXlWYWx1ZSk7XHJcbiAgICAgICAgLy8gc2V0dGVyIGZ1bmN0aW9uXHJcbiAgICAgICAgaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0udmFsdWUgPSBrZXk7XHJcbiAgICAgICAgZXhpdEVkaXRNb2RlKCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBGVU5DVElPTiBDQUxMUyA8PCBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICB0b2dnbGVJdGVtRGlzcGxheSgpO1xyXG4gIGFyY2hpdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFZGl0aW9uKTtcclxuICBhcmNoaXZlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFZGl0aW9uKTtcclxuXHJcbn1cclxuLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEVORCBPRiBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuLypcclxuIyMgICAgICMjICAgICMjIyAgICAjIyMjIyMjIyAgIyMjIyAgICAjIyMgICAgIyMjIyMjIyMgICMjICAgICAgICMjIyMjIyMjICAjIyMjIyNcclxuIyMgICAgICMjICAgIyMgIyMgICAjIyAgICAgIyMgICMjICAgICMjICMjICAgIyMgICAgICMjICMjICAgICAgICMjICAgICAgICMjICAgICMjXHJcbiMjICAgICAjIyAgIyMgICAjIyAgIyMgICAgICMjICAjIyAgICMjICAgIyMgICMjICAgICAjIyAjIyAgICAgICAjIyAgICAgICAjI1xyXG4jIyAgICAgIyMgIyMgICAgICMjICMjIyMjIyMjICAgIyMgICMjICAgICAjIyAjIyMjIyMjIyAgIyMgICAgICAgIyMjIyMjICAgICMjIyMjI1xyXG4gIyMgICAjIyAgIyMjIyMjIyMjICMjICAgIyMgICAgIyMgICMjIyMjIyMjIyAjIyAgICAgIyMgIyMgICAgICAgIyMgICAgICAgICAgICAgIyNcclxuICAjIyAjIyAgICMjICAgICAjIyAjIyAgICAjIyAgICMjICAjIyAgICAgIyMgIyMgICAgICMjICMjICAgICAgICMjICAgICAgICMjICAgICMjXHJcbiAgICMjIyAgICAjIyAgICAgIyMgIyMgICAgICMjICMjIyMgIyMgICAgICMjICMjIyMjIyMjICAjIyMjIyMjIyAjIyMjIyMjIyAgIyMjIyMjXHJcbiovXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBWQVJJQUJMRVMgXHJcbi8vIEFQUFxyXG5jb25zdCBhcHBDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19jb250YWluZXItLWpzJyk7XHJcbmNvbnN0IGFkZEdsYXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9fYnV0dG9uLS1qcy1hZGQnKTtcclxuY29uc3QgcmVtb3ZlR2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19idXR0b24tLWpzLXJlbW92ZScpO1xyXG5jb25zdCBjb3VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdsYXNzX19jb3VudGVyLS1qcycpO1xyXG5jb25zdCBjb3VudGVyTWF4VmFsdWUgPSA5OTtcclxuLy8gQVJDSElWRVxyXG5jb25zdCBhcmNoaXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFyY2hpdmUtLWpzJyk7XHJcbmNvbnN0IGFyY2hpdmVPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFyY2hpdmVfX292ZXJsYXktLWpzJyk7XHJcbmNvbnN0IGFyY2hpdmVXZWVrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlX193ZWVrcy0tanMnKTtcclxuY29uc3QgYXJjaGl2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uX19idXR0b24tLWpzLWFyY2hpdmUnKTtcclxuY29uc3QgcHJldldlZWtCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fYnV0dG9uLS1qcy1wcmV2Jyk7XHJcbmNvbnN0IG5leHRXZWVrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFyY2hpdmVfX2J1dHRvbi0tanMtbmV4dCcpO1xyXG5jb25zdCBhZGRFbnRyeUJ1dHRvbiA9IGNyZWF0ZUFkZEVudHJ5QnV0dG9uKCk7XHJcbmNvbnN0IHJlbW92ZUVudHJ5QnV0dG9uID0gY3JlYXRlUmVtb3ZlRW50cnlCdXR0b24oKTtcclxuLy8gTkVXIEVOVFJZXHJcbmNvbnN0IG5ld0VudHJ5TW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctZW50cnktLWpzJyk7XHJcbmNvbnN0IG5ld0VudHJ5VmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LWVudHJ5X192YWx1ZS0tanMnKTtcclxuY29uc3QgbmV3RW50cnlEZWNyZWFzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctZW50cnlfX2J1dHRvbi0tanMtZGVjcmVhc2UnKTtcclxuY29uc3QgbmV3RW50cnlJbmNyZWFzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctZW50cnlfX2J1dHRvbi0tanMtaW5jcmVhc2UnKTtcclxuY29uc3QgbmV3RW50cnlDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LWVudHJ5X19idXR0b24tLWpzLWNhbmNlbCcpO1xyXG5jb25zdCBuZXdFbnRyeVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LWVudHJ5X19idXR0b24tLWpzLXNhdmUnKTtcclxuLy8gU1RBVFNcclxuY29uc3Qgc3RhdHNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fYnV0dG9uLS1qcy1zdGF0cycpO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OIENBTExTIFxyXG5cclxuaGFuZGxlRGF0YSgpO1xyXG5zZXRBcmNoaXZlRE9NKCk7XHJcbnVwZGF0ZVdlZWtIZWFkaW5nKCk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBWQVJJQUJMRVMgXHJcblxyXG5sZXQgZWRpdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1lZGl0Jyk7XHJcbmxldCBlbnRyaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVudHJ5LS1qcycpO1xyXG5jb25zdCBhZGROZXdEYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW50cnlfX2J1dHRvbi0tanMtYWRkJyk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFVkVOVCBMSVNURU5FUlMgXHJcblxyXG5zaG93QXJjaGl2ZSgpOyAgLy8gISBmb3IgdGVzdHNcclxuXHJcbmFwcENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZUNvdW50ZXIpO1xyXG5hcmNoaXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FyY2hpdmUpO1xyXG4vL2xvYWRNb3JlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZE1vcmVJdGVtcyk7XHJcblxyXG4vKiBmb3IgKGxldCBpID0gMDsgaSA8IGVkaXRCdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgY29uc3QgZWRpdEJ1dHRvbiA9IGVkaXRCdXR0b25zW2ldO1xyXG4gIGVkaXRCdXR0b24uaW5kZXggPSBpO1xyXG4gIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVJdGVtRWRpdCk7XHJcbn0gKi8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);