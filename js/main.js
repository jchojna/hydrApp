!function(c){var t={};function n(e){if(t[e])return t[e].exports;var l=t[e]={i:e,l:!1,exports:{}};return c[e].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=c,n.c=t,n.d=function(c,t,e){n.o(c,t)||Object.defineProperty(c,t,{enumerable:!0,get:e})},n.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},n.t=function(c,t){if(1&t&&(c=n(c)),8&t)return c;if(4&t&&"object"==typeof c&&c&&c.__esModule)return c;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:c}),2&t&&"string"!=typeof c)for(var l in c)n.d(e,l,function(t){return c[t]}.bind(null,l));return e},n.n=function(c){var t=c&&c.__esModule?function(){return c.default}:function(){return c};return n.d(t,"a",t),t},n.o=function(c,t){return Object.prototype.hasOwnProperty.call(c,t)},n.p="",n(n.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\r\n\r\n/////////////////////////////////////////////////////////////// SERVICE WORKER \r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function() {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function(registration) {\r\n      // Registration was successful\r\n      //console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function(err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\n\r\n///////////////////////////////////////////////////////////// GLOBAL VARIABLES \r\n\r\nconst hydrappArray = [];\r\nconst lastEntryDate = new Date();\r\n\r\nlet indicators = '';\r\nfor (let i = 0; i < 8; i++) {\r\n  indicators += `\r\n  <svg class=\"indicator__svg indicator__svg--emo-${i+1} indicator__svg--js-${i}\">\r\n    <use href=\"assets/svg/icons.svg#emoticon-${i}\"></use>\r\n  </svg>`\r\n}\r\n\r\nclass Entry {\r\n  constructor(key) {\r\n    this.key = key;\r\n    this.getValue = key;\r\n    this.getTitle = key;\r\n    this.getID = key;\r\n\r\n    this.html = `\r\n      <li class=\"archive__item archive__item--js ${this.key}\">\r\n        <p class=\"archive__date\">${this.getTitle}</p>\r\n        <p class=\"archive__value archive__value--js\">\r\n          ${this.getValue}\r\n        </p>\r\n        <div class=\"edition edition--js\">\r\n          <button class=\"button edition__button edition__button--visible edition__button--edit edition__button--js-edit\">\r\n            <svg class=\"edition__svg edition__svg--edit\">\r\n              <use href=\"assets/svg/icons.svg#edit-mode\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--decrease edition__button--js-decrease\">\r\n            <svg class=\"edition__svg edition__svg--decrease\">\r\n              <use href=\"assets/svg/icons.svg#left-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--increase edition__button--js-increase\">\r\n            <svg class=\"edition__svg edition__svg--increase\">\r\n              <use href=\"assets/svg/icons.svg#right-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--cancel edition__button--js-cancel\">\r\n            <svg class=\"edition__svg edition__svg--cancel\">\r\n              <use href=\"assets/svg/icons.svg#back-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--save edition__button--js-save\">\r\n            <svg class=\"edition__svg edition__svg--save\">\r\n              <use href=\"assets/svg/icons.svg#save-icon\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"indicator indicator--js-${this.getID}\">\r\n          ${indicators}\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n\r\n  get getValue() {\r\n    return this.value;\r\n  }\r\n  set getValue(key) {\r\n    this.value = localStorage.getItem(key);\r\n  }\r\n  get getTitle() {\r\n    return this.title;\r\n  }\r\n  set getTitle(date) {\r\n    this.title = date.replace('hydrApp-','').split('-').reverse().join(' ');\r\n  }\r\n  get getID() {\r\n    return this.ID;\r\n  }\r\n  set getID(date) {\r\n    this.ID = date.replace('hydrApp-','').split('-').reverse().join('');\r\n  }\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////// FUNCTIONS \r\n\r\n// F1 //////////////////////////////////////////////// CREATE HYDRAPP DATE KEY \r\n\r\nconst setDateKey = (obj) => {\r\n  const prefix = 'hydrApp-';\r\n  const date = obj.toISOString().slice(0,10);\r\n  return prefix.concat(date);\r\n}\r\n// F1 ///////////////////////////////// CREATE KEY VALUE PAIR IN LOCAL STORAGE \r\n\r\nconst setNewKeyValue = (key, value) => {\r\n  if ( !localStorage.getItem(key) ) {\r\n    localStorage.setItem(key, value);\r\n  };\r\n}\r\n// F1 ///////////////////////////// CREATE ARRAY OF HYDRAPP LOCAL STORAGE KEYS \r\n\r\nconst getHydrappKeys = () => {\r\n  const regex = /hydrApp-/;\r\n  return Object\r\n  .keys(localStorage)\r\n  .filter(key => regex.test(key))\r\n  .sort()\r\n  .reverse();\r\n}\r\n// F1 ////////////////////////////////////////////////////// GET OFFSETED DATE \r\n\r\nconst getOffsetedDate = () => {\r\n  const timeZoneOffset = (new Date()).getTimezoneOffset() * 60000;\r\n  return (new Date(Date.now() - timeZoneOffset));\r\n}\r\n// F1 //////////////////////////////////////////////////////////// SET COUNTER \r\n\r\nconst setLocalStorage = () => {\r\n  const offsetedDate = getOffsetedDate();                           // ! OFFSETED OR NORMAL ???\r\n  let dateKey = setDateKey(offsetedDate);\r\n  const hydrappKeys = getHydrappKeys();\r\n  const oldestKey = hydrappKeys[hydrappKeys.length - 1];\r\n\r\n  setNewKeyValue(dateKey, 0);\r\n  \r\n  if ( hydrappKeys.length > 2 ) { // autocomplete missing keys in localstorage\r\n    let limit = 0; // for tests to avoid loop error                            // ! TO REFACTOR\r\n\r\n    while (setDateKey(offsetedDate) !== oldestKey && limit < 99) {\r\n      offsetedDate.setDate(offsetedDate.getDate() - 1);\r\n      const prevDateKey = setDateKey(offsetedDate);\r\n      setNewKeyValue(prevDateKey, 0);\r\n      limit++;\r\n    }\r\n  }\r\n  counter.innerHTML = localStorage.getItem(dateKey);\r\n}\r\n// F1 ///////////////////////////////////////////////////////// UPDATE COUNTER \r\n\r\nconst updateCounter = (e) => {\r\n  const self = e.target;\r\n  const offsetedDate = getOffsetedDate();\r\n  const key = setDateKey(offsetedDate);\r\n  const value = parseInt(localStorage.getItem(key));\r\n  let newValue;\r\n\r\n  if (self === addGlass || self === removeGlass) {\r\n    switch (self) {\r\n      case addGlass:\r\n        value < counterMaxValue ? newValue = value + 1 : newValue = counterMaxValue;\r\n        break;\r\n      case removeGlass:\r\n        value > 0 ? newValue = value - 1 : newValue = 0;\r\n        break;\r\n    }\r\n    localStorage.setItem(key, newValue);\r\n    counter.innerHTML = newValue;\r\n  }\r\n}\r\n// F1 //////////////////////////////////////////////////////////// SET ARCHIVE \r\n\r\nconst setArchive = () => {\r\n  const hydrappKeys = getHydrappKeys();\r\n  \r\n  if (hydrappKeys.length === 1) {\r\n    archiveList.innerHTML += `\r\n      <li class=\"archive__item archive__item--empty\">No history yet...</li>\r\n      `;\r\n\r\n  } else {\r\n\r\n    for (let i = 1; i < hydrappKeys.length; i++) {\r\n\r\n      const newEntry = new Entry(hydrappKeys[i]);\r\n      archiveList.innerHTML += newEntry.html;\r\n      lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n      setIndicators(newEntry.ID, newEntry.value);\r\n      hydrappArray.push(newEntry);\r\n    }\r\n    console.log('hydrappArray', hydrappArray);\r\n  }\r\n}\r\n// F1 ///////////////////////////////////////////////////////// SET INDICATORS \r\n\r\nconst setIndicators = (id, value) => {\r\n\r\n  value > 7 ? value = 7 : false;\r\n\r\n  const indicators = document.querySelector(`.indicator--js-${id}`).children;\r\n  const indicator = document.querySelector(`.indicator--js-${id} .indicator__svg--js-${value}`);\r\n  \r\n  for (const indicator of indicators) {\r\n    indicator.classList.contains('indicator__svg--visible')\r\n    ? indicator.classList.remove('indicator__svg--visible')\r\n    : false;\r\n  }\r\n  indicator.classList.add('indicator__svg--visible');\r\n}\r\n// F1 /////////////////////////////////////////////////////////// SHOW ARCHIVE \r\nconst showArchive = () => {\r\n\r\n  // F2 ///////////////////////////////////////////////////// HANDLE ITEM EDIT \r\n\r\n  const handleItemEdit = (e) => {\r\n    const itemIndex = e.target.index;\r\n    const archiveItem = document.querySelectorAll('.archive__item--js')[itemIndex];\r\n    const editSection = document.querySelectorAll('.edition--js')[itemIndex];\r\n    const decreaseButton = document.querySelectorAll('.edition__button--js-decrease')[itemIndex];\r\n    const increaseButton = document.querySelectorAll('.edition__button--js-increase')[itemIndex];\r\n    const cancelButton = document.querySelectorAll('.edition__button--js-cancel')[itemIndex];\r\n    const saveButton = document.querySelectorAll('.edition__button--js-save')[itemIndex];\r\n    const archiveValue = document.querySelectorAll('.archive__value--js')[itemIndex];\r\n\r\n    // F3 //////////////////////////// TOGGLE ITEM DISPLAY << HANDLE ITEM EDIT \r\n\r\n    const toggleItemDisplay = () => {\r\n      archive.classList.toggle('archive--on-top');\r\n      archiveItem.classList.toggle('archive__item--on-top');\r\n      pageOverlay.classList.toggle('archive__overlay--visible');\r\n      \r\n      for (const editButton of editSection.children) {\r\n        editButton.classList.toggle('edition__button--visible');\r\n      }\r\n      editSection.classList.toggle('edition--visible');\r\n    }\r\n    // F3 ///////////////////////////////// EXIT EDIT MODE << HANDLE ITEM EDIT \r\n\r\n    const exitEditMode = () => {\r\n      toggleItemDisplay();\r\n      archiveValue.textContent = hydrappArray[itemIndex].value;\r\n      setIndicators(hydrappArray[itemIndex].ID, hydrappArray[itemIndex].value);\r\n\r\n      archive.removeEventListener('click', handleEdition);\r\n      archive.removeEventListener('keydown', handleEdition);\r\n    }\r\n    // F3 ///////////////////////////////// HANDLE EDITION << HANDLE ITEM EDIT \r\n\r\n    const handleEdition = (e) => {\r\n      const self = e.keyCode || e.target;\r\n      let value = parseInt(archiveValue.textContent);\r\n\r\n      switch (self) {\r\n\r\n        case 37:\r\n        case decreaseButton:\r\n          e.preventDefault();\r\n          value > 0 ? value-- : false;\r\n          archiveValue.textContent = value;\r\n          setIndicators(hydrappArray[itemIndex].ID, value);\r\n        break;\r\n        \r\n        case 39:\r\n        case increaseButton:\r\n          e.preventDefault();\r\n          value < counterMaxValue ? value++ : false;\r\n          archiveValue.textContent = value;\r\n          setIndicators(hydrappArray[itemIndex].ID, value);\r\n        break;\r\n\r\n        case 27:\r\n        case pageOverlay:\r\n        case cancelButton:\r\n          e.preventDefault();\r\n          exitEditMode();\r\n        break;\r\n\r\n        case 13:\r\n        case saveButton:\r\n          e.preventDefault();\r\n          hydrappArray[itemIndex].value = value;\r\n          localStorage.setItem(hydrappArray[itemIndex].key, value);\r\n          exitEditMode();\r\n        break;\r\n      }\r\n    }\r\n    /////////////////////////////////////// FUNCTION CALLS << HANDLE ITEM EDIT \r\n\r\n    toggleItemDisplay();\r\n    archive.addEventListener('click', handleEdition);\r\n    archive.addEventListener('keydown', handleEdition);\r\n\r\n  } // F2 //////////////////////////////////////////// END OF HANDLE ITEM EDIT \r\n  \r\n  // F2 //////////////////////////////////////////// LOAD MORE << SHOW ARCHIVE \r\n  const loadMoreItems = () => {\r\n    \r\n    const archiveItems = document.querySelectorAll('.archive__item--js');\r\n    const itemArray = [...archiveItems];\r\n    const archiveListHeight = archiveList.clientHeight;\r\n\r\n    let firstIndexToLoad = itemArray.findIndex(elem => !elem.classList.contains('archive__item--visible'));\r\n    let heights = 0;\r\n    let scrollOffset = archiveList.scrollTop;\r\n\r\n    while (true) {\r\n      \r\n      if (firstIndexToLoad < itemArray.length && firstIndexToLoad >= 0) {\r\n        const item = itemArray[firstIndexToLoad];\r\n        item.classList.add('archive__item--visible');\r\n        heights += item.offsetHeight;\r\n        scrollOffset += item.offsetHeight;\r\n        \r\n        if (heights <= archiveListHeight - item.offsetHeight) {\r\n          firstIndexToLoad++;\r\n        } else {\r\n          archiveList.scrollTop = scrollOffset;\r\n          archiveList.style.height = heights + 'px';\r\n          return false;\r\n        }\r\n\r\n      } else {\r\n        archiveList.scrollTop = scrollOffset;\r\n        loadMoreButton.classList.add('archive__button--hidden');\r\n        loadMoreButton.removeEventListener('click', loadMoreItems);\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // F2 ///////////////////////////////////////// ADD NEW ITEM << SHOW ARCHIVE \r\n\r\n  const addNewItem = () => {\r\n\r\n    // set date object for a new entry\r\n    lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n    const newEntryKey = setDateKey(lastEntryDate);\r\n    setNewKeyValue(newEntryKey, 0);\r\n    // create new object for array\r\n    const newEntry = new Entry(newEntryKey);\r\n    hydrappArray.push(newEntry);\r\n    const currentIndex = hydrappArray.length - 1;\r\n    archiveList.insertAdjacentHTML('beforeend', hydrappArray[currentIndex].html);\r\n    setIndicators(hydrappArray[currentIndex].ID, hydrappArray[currentIndex].value);\r\n    \r\n    for (const item of archiveList.children) {\r\n      item.classList.add('archive__item--visible');\r\n    }\r\n\r\n    editButtons = document.querySelectorAll('.edition__button--js-edit');\r\n    const newEditButton = editButtons[currentIndex];\r\n    newEditButton.index = currentIndex;\r\n    newEditButton.addEventListener('click', handleItemEdit);\r\n  }\r\n  // F2 ///////////////////////////////////// REMOVE LAST ITEM << SHOW ARCHIVE \r\n\r\n  const removeLastItem = () => {\r\n    const lastItemKey = hydrappArray[hydrappArray.length - 1].key;\r\n    hydrappArray.pop();\r\n    localStorage.removeItem(lastItemKey);\r\n    archiveList.removeChild(archiveList.lastElementChild);\r\n  }\r\n  // F2 //////////////////////////////////////// CLOSE ARCHIVE << SHOW ARCHIVE \r\n\r\n  const closeArchive = () => {\r\n    archive.classList.remove('archive--visible');\r\n    loadMoreButton.classList.remove('archive__button--hidden');\r\n\r\n    const archiveItems = document.querySelectorAll('.archive__item--js');\r\n    for (const archiveItem of archiveItems) {\r\n      archiveItem.classList.remove('archive__item--visible');\r\n    }\r\n\r\n    addNewButton.removeEventListener('click', addNewItem);\r\n    removeButton.removeEventListener('click', removeLastItem);\r\n    loadMoreButton.removeEventListener('click', loadMoreItems);\r\n    archiveButton.removeEventListener('click', closeArchive);\r\n\r\n    for (const editButton of editButtons) {\r\n      editButton.removeEventListener('click', handleItemEdit);\r\n    }\r\n\r\n    archiveButton.addEventListener('click', showArchive);\r\n  }\r\n  ////////////////////////////////////////////////// VARIABLES << SHOW ARCHIVE \r\n\r\n  let editButtons = document.querySelectorAll('.edition__button--js-edit');\r\n\r\n  ///////////////////////////////////////////// FUNCTION CALLS << SHOW ARCHIVE \r\n\r\n  archive.classList.add('archive--visible');\r\n  loadMoreItems();\r\n\r\n  //////////////////////////////////////////// EVENT LISTENERS << SHOW ARCHIVE \r\n\r\n  archiveButton.removeEventListener('click', showArchive);\r\n  archiveButton.addEventListener('click', closeArchive);\r\n  loadMoreButton.addEventListener('click', loadMoreItems);\r\n  addNewButton.addEventListener('click', addNewItem);\r\n  removeButton.addEventListener('click', removeLastItem);\r\n\r\n  for (let i = 0; i < editButtons.length; i++) {\r\n    const editButton = editButtons[i];\r\n    editButton.index = i;\r\n    editButton.addEventListener('click', handleItemEdit);\r\n  }\r\n}\r\n// F1 //////////////////////////////////////////////////// END OF SHOW ARCHIVE \r\n\r\n//////////////////////////////////////////////////////////////////// VARIABLES \r\n\r\nconst appContainer = document.querySelector('.app__container--js');\r\nconst addGlass = document.querySelector('.app__button--js-add');\r\nconst removeGlass = document.querySelector('.app__button--js-remove');\r\nconst counter = document.querySelector('.glass__counter--js');\r\nconst counterMaxValue = 99;\r\n\r\nconst archive = document.querySelector('.archive--js');\r\nconst pageOverlay = document.querySelector('.archive__overlay--js');\r\nconst archiveList = document.querySelector('.archive__list--js');\r\nconst archiveButton = document.querySelector('.navigation__button--js-archive');\r\nconst loadMoreButton = document.querySelector('.archive__button--js-load-more');\r\nconst addNewButton = document.querySelector('.archive__button--add-new');\r\nconst removeButton = document.querySelector('.archive__button--remove')\r\n\r\nconst statsButton = document.querySelector('.navigation__button--js-stats');\r\n\r\n/////////////////////////////////////////////////////////////// FUNCTION CALLS \r\n\r\nsetLocalStorage();\r\nsetArchive();\r\n\r\n////////////////////////////////////////////////////////////// EVENT LISTENERS \r\n\r\nappContainer.addEventListener('click', updateCounter);\r\narchiveButton.addEventListener('click', showArchive);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBLG1EQUFtRCxJQUFJLHNCQUFzQixFQUFFO0FBQy9FLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsV0FBVztBQUN6RCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDO0FBQ2pDLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVILG1CQUFtQix3QkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDhEQUE4RCxHQUFHO0FBQ2pFLDZEQUE2RCxHQUFHLHVCQUF1QixNQUFNOztBQUU3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQix3QkFBd0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBTRVJWSUNFIFdPUktFUiBcclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzZXJ2aWNld29ya2VyLmpzJykudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcclxuICAgICAgLy8gUmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsXHJcbiAgICAgIC8vY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwgd2l0aCBzY29wZTogJywgcmVnaXN0cmF0aW9uLnNjb3BlKTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAvLyByZWdpc3RyYXRpb24gZmFpbGVkIDooXHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIGVycik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBHTE9CQUwgVkFSSUFCTEVTIFxyXG5cclxuY29uc3QgaHlkcmFwcEFycmF5ID0gW107XHJcbmNvbnN0IGxhc3RFbnRyeURhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxubGV0IGluZGljYXRvcnMgPSAnJztcclxuZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcclxuICBpbmRpY2F0b3JzICs9IGBcclxuICA8c3ZnIGNsYXNzPVwiaW5kaWNhdG9yX19zdmcgaW5kaWNhdG9yX19zdmctLWVtby0ke2krMX0gaW5kaWNhdG9yX19zdmctLWpzLSR7aX1cIj5cclxuICAgIDx1c2UgaHJlZj1cImFzc2V0cy9zdmcvaWNvbnMuc3ZnI2Vtb3RpY29uLSR7aX1cIj48L3VzZT5cclxuICA8L3N2Zz5gXHJcbn1cclxuXHJcbmNsYXNzIEVudHJ5IHtcclxuICBjb25zdHJ1Y3RvcihrZXkpIHtcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgdGhpcy5nZXRWYWx1ZSA9IGtleTtcclxuICAgIHRoaXMuZ2V0VGl0bGUgPSBrZXk7XHJcbiAgICB0aGlzLmdldElEID0ga2V5O1xyXG5cclxuICAgIHRoaXMuaHRtbCA9IGBcclxuICAgICAgPGxpIGNsYXNzPVwiYXJjaGl2ZV9faXRlbSBhcmNoaXZlX19pdGVtLS1qcyAke3RoaXMua2V5fVwiPlxyXG4gICAgICAgIDxwIGNsYXNzPVwiYXJjaGl2ZV9fZGF0ZVwiPiR7dGhpcy5nZXRUaXRsZX08L3A+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJhcmNoaXZlX192YWx1ZSBhcmNoaXZlX192YWx1ZS0tanNcIj5cclxuICAgICAgICAgICR7dGhpcy5nZXRWYWx1ZX1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImVkaXRpb24gZWRpdGlvbi0tanNcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZWRpdGlvbl9fYnV0dG9uIGVkaXRpb25fX2J1dHRvbi0tdmlzaWJsZSBlZGl0aW9uX19idXR0b24tLWVkaXQgZWRpdGlvbl9fYnV0dG9uLS1qcy1lZGl0XCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1lZGl0XCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjZWRpdC1tb2RlXCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLWRlY3JlYXNlIGVkaXRpb25fX2J1dHRvbi0tanMtZGVjcmVhc2VcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImVkaXRpb25fX3N2ZyBlZGl0aW9uX19zdmctLWRlY3JlYXNlXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjbGVmdC1hcnJvd1wiPjwvdXNlPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBlZGl0aW9uX19idXR0b24gZWRpdGlvbl9fYnV0dG9uLS1pbmNyZWFzZSBlZGl0aW9uX19idXR0b24tLWpzLWluY3JlYXNlXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1pbmNyZWFzZVwiPlxyXG4gICAgICAgICAgICAgIDx1c2UgaHJlZj1cImFzc2V0cy9zdmcvaWNvbnMuc3ZnI3JpZ2h0LWFycm93XCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLWNhbmNlbCBlZGl0aW9uX19idXR0b24tLWpzLWNhbmNlbFwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZWRpdGlvbl9fc3ZnIGVkaXRpb25fX3N2Zy0tY2FuY2VsXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjYmFjay1hcnJvd1wiPjwvdXNlPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBlZGl0aW9uX19idXR0b24gZWRpdGlvbl9fYnV0dG9uLS1zYXZlIGVkaXRpb25fX2J1dHRvbi0tanMtc2F2ZVwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZWRpdGlvbl9fc3ZnIGVkaXRpb25fX3N2Zy0tc2F2ZVwiPlxyXG4gICAgICAgICAgICAgIDx1c2UgaHJlZj1cImFzc2V0cy9zdmcvaWNvbnMuc3ZnI3NhdmUtaWNvblwiPjwvdXNlPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbmRpY2F0b3IgaW5kaWNhdG9yLS1qcy0ke3RoaXMuZ2V0SUR9XCI+XHJcbiAgICAgICAgICAke2luZGljYXRvcnN9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbGk+XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBnZXQgZ2V0VmFsdWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcclxuICB9XHJcbiAgc2V0IGdldFZhbHVlKGtleSkge1xyXG4gICAgdGhpcy52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgfVxyXG4gIGdldCBnZXRUaXRsZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnRpdGxlO1xyXG4gIH1cclxuICBzZXQgZ2V0VGl0bGUoZGF0ZSkge1xyXG4gICAgdGhpcy50aXRsZSA9IGRhdGUucmVwbGFjZSgnaHlkckFwcC0nLCcnKS5zcGxpdCgnLScpLnJldmVyc2UoKS5qb2luKCcgJyk7XHJcbiAgfVxyXG4gIGdldCBnZXRJRCgpIHtcclxuICAgIHJldHVybiB0aGlzLklEO1xyXG4gIH1cclxuICBzZXQgZ2V0SUQoZGF0ZSkge1xyXG4gICAgdGhpcy5JRCA9IGRhdGUucmVwbGFjZSgnaHlkckFwcC0nLCcnKS5zcGxpdCgnLScpLnJldmVyc2UoKS5qb2luKCcnKTtcclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OUyBcclxuXHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBDUkVBVEUgSFlEUkFQUCBEQVRFIEtFWSBcclxuXHJcbmNvbnN0IHNldERhdGVLZXkgPSAob2JqKSA9PiB7XHJcbiAgY29uc3QgcHJlZml4ID0gJ2h5ZHJBcHAtJztcclxuICBjb25zdCBkYXRlID0gb2JqLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCk7XHJcbiAgcmV0dXJuIHByZWZpeC5jb25jYXQoZGF0ZSk7XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSBLRVkgVkFMVUUgUEFJUiBJTiBMT0NBTCBTVE9SQUdFIFxyXG5cclxuY29uc3Qgc2V0TmV3S2V5VmFsdWUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gIGlmICggIWxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICB9O1xyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSBBUlJBWSBPRiBIWURSQVBQIExPQ0FMIFNUT1JBR0UgS0VZUyBcclxuXHJcbmNvbnN0IGdldEh5ZHJhcHBLZXlzID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJlZ2V4ID0gL2h5ZHJBcHAtLztcclxuICByZXR1cm4gT2JqZWN0XHJcbiAgLmtleXMobG9jYWxTdG9yYWdlKVxyXG4gIC5maWx0ZXIoa2V5ID0+IHJlZ2V4LnRlc3Qoa2V5KSlcclxuICAuc29ydCgpXHJcbiAgLnJldmVyc2UoKTtcclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR0VUIE9GRlNFVEVEIERBVEUgXHJcblxyXG5jb25zdCBnZXRPZmZzZXRlZERhdGUgPSAoKSA9PiB7XHJcbiAgY29uc3QgdGltZVpvbmVPZmZzZXQgPSAobmV3IERhdGUoKSkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwO1xyXG4gIHJldHVybiAobmV3IERhdGUoRGF0ZS5ub3coKSAtIHRpbWVab25lT2Zmc2V0KSk7XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNFVCBDT1VOVEVSIFxyXG5cclxuY29uc3Qgc2V0TG9jYWxTdG9yYWdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IG9mZnNldGVkRGF0ZSA9IGdldE9mZnNldGVkRGF0ZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICEgT0ZGU0VURUQgT1IgTk9STUFMID8/P1xyXG4gIGxldCBkYXRlS2V5ID0gc2V0RGF0ZUtleShvZmZzZXRlZERhdGUpO1xyXG4gIGNvbnN0IGh5ZHJhcHBLZXlzID0gZ2V0SHlkcmFwcEtleXMoKTtcclxuICBjb25zdCBvbGRlc3RLZXkgPSBoeWRyYXBwS2V5c1toeWRyYXBwS2V5cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgc2V0TmV3S2V5VmFsdWUoZGF0ZUtleSwgMCk7XHJcbiAgXHJcbiAgaWYgKCBoeWRyYXBwS2V5cy5sZW5ndGggPiAyICkgeyAvLyBhdXRvY29tcGxldGUgbWlzc2luZyBrZXlzIGluIGxvY2Fsc3RvcmFnZVxyXG4gICAgbGV0IGxpbWl0ID0gMDsgLy8gZm9yIHRlc3RzIHRvIGF2b2lkIGxvb3AgZXJyb3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gISBUTyBSRUZBQ1RPUlxyXG5cclxuICAgIHdoaWxlIChzZXREYXRlS2V5KG9mZnNldGVkRGF0ZSkgIT09IG9sZGVzdEtleSAmJiBsaW1pdCA8IDk5KSB7XHJcbiAgICAgIG9mZnNldGVkRGF0ZS5zZXREYXRlKG9mZnNldGVkRGF0ZS5nZXREYXRlKCkgLSAxKTtcclxuICAgICAgY29uc3QgcHJldkRhdGVLZXkgPSBzZXREYXRlS2V5KG9mZnNldGVkRGF0ZSk7XHJcbiAgICAgIHNldE5ld0tleVZhbHVlKHByZXZEYXRlS2V5LCAwKTtcclxuICAgICAgbGltaXQrKztcclxuICAgIH1cclxuICB9XHJcbiAgY291bnRlci5pbm5lckhUTUwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkYXRlS2V5KTtcclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gVVBEQVRFIENPVU5URVIgXHJcblxyXG5jb25zdCB1cGRhdGVDb3VudGVyID0gKGUpID0+IHtcclxuICBjb25zdCBzZWxmID0gZS50YXJnZXQ7XHJcbiAgY29uc3Qgb2Zmc2V0ZWREYXRlID0gZ2V0T2Zmc2V0ZWREYXRlKCk7XHJcbiAgY29uc3Qga2V5ID0gc2V0RGF0ZUtleShvZmZzZXRlZERhdGUpO1xyXG4gIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XHJcbiAgbGV0IG5ld1ZhbHVlO1xyXG5cclxuICBpZiAoc2VsZiA9PT0gYWRkR2xhc3MgfHwgc2VsZiA9PT0gcmVtb3ZlR2xhc3MpIHtcclxuICAgIHN3aXRjaCAoc2VsZikge1xyXG4gICAgICBjYXNlIGFkZEdsYXNzOlxyXG4gICAgICAgIHZhbHVlIDwgY291bnRlck1heFZhbHVlID8gbmV3VmFsdWUgPSB2YWx1ZSArIDEgOiBuZXdWYWx1ZSA9IGNvdW50ZXJNYXhWYWx1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSByZW1vdmVHbGFzczpcclxuICAgICAgICB2YWx1ZSA+IDAgPyBuZXdWYWx1ZSA9IHZhbHVlIC0gMSA6IG5ld1ZhbHVlID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgbmV3VmFsdWUpO1xyXG4gICAgY291bnRlci5pbm5lckhUTUwgPSBuZXdWYWx1ZTtcclxuICB9XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNFVCBBUkNISVZFIFxyXG5cclxuY29uc3Qgc2V0QXJjaGl2ZSA9ICgpID0+IHtcclxuICBjb25zdCBoeWRyYXBwS2V5cyA9IGdldEh5ZHJhcHBLZXlzKCk7XHJcbiAgXHJcbiAgaWYgKGh5ZHJhcHBLZXlzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgYXJjaGl2ZUxpc3QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgPGxpIGNsYXNzPVwiYXJjaGl2ZV9faXRlbSBhcmNoaXZlX19pdGVtLS1lbXB0eVwiPk5vIGhpc3RvcnkgeWV0Li4uPC9saT5cclxuICAgICAgYDtcclxuXHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGh5ZHJhcHBLZXlzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICBjb25zdCBuZXdFbnRyeSA9IG5ldyBFbnRyeShoeWRyYXBwS2V5c1tpXSk7XHJcbiAgICAgIGFyY2hpdmVMaXN0LmlubmVySFRNTCArPSBuZXdFbnRyeS5odG1sO1xyXG4gICAgICBsYXN0RW50cnlEYXRlLnNldERhdGUobGFzdEVudHJ5RGF0ZS5nZXREYXRlKCkgLSAxKTtcclxuICAgICAgc2V0SW5kaWNhdG9ycyhuZXdFbnRyeS5JRCwgbmV3RW50cnkudmFsdWUpO1xyXG4gICAgICBoeWRyYXBwQXJyYXkucHVzaChuZXdFbnRyeSk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnaHlkcmFwcEFycmF5JywgaHlkcmFwcEFycmF5KTtcclxuICB9XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNFVCBJTkRJQ0FUT1JTIFxyXG5cclxuY29uc3Qgc2V0SW5kaWNhdG9ycyA9IChpZCwgdmFsdWUpID0+IHtcclxuXHJcbiAgdmFsdWUgPiA3ID8gdmFsdWUgPSA3IDogZmFsc2U7XHJcblxyXG4gIGNvbnN0IGluZGljYXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaW5kaWNhdG9yLS1qcy0ke2lkfWApLmNoaWxkcmVuO1xyXG4gIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5pbmRpY2F0b3ItLWpzLSR7aWR9IC5pbmRpY2F0b3JfX3N2Zy0tanMtJHt2YWx1ZX1gKTtcclxuICBcclxuICBmb3IgKGNvbnN0IGluZGljYXRvciBvZiBpbmRpY2F0b3JzKSB7XHJcbiAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmRpY2F0b3JfX3N2Zy0tdmlzaWJsZScpXHJcbiAgICA/IGluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdpbmRpY2F0b3JfX3N2Zy0tdmlzaWJsZScpXHJcbiAgICA6IGZhbHNlO1xyXG4gIH1cclxuICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yX19zdmctLXZpc2libGUnKTtcclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBTSE9XIEFSQ0hJVkUgXHJcbmNvbnN0IHNob3dBcmNoaXZlID0gKCkgPT4ge1xyXG5cclxuICAvLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICBjb25zdCBoYW5kbGVJdGVtRWRpdCA9IChlKSA9PiB7XHJcbiAgICBjb25zdCBpdGVtSW5kZXggPSBlLnRhcmdldC5pbmRleDtcclxuICAgIGNvbnN0IGFyY2hpdmVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFyY2hpdmVfX2l0ZW0tLWpzJylbaXRlbUluZGV4XTtcclxuICAgIGNvbnN0IGVkaXRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRpb24tLWpzJylbaXRlbUluZGV4XTtcclxuICAgIGNvbnN0IGRlY3JlYXNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRpb25fX2J1dHRvbi0tanMtZGVjcmVhc2UnKVtpdGVtSW5kZXhdO1xyXG4gICAgY29uc3QgaW5jcmVhc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1pbmNyZWFzZScpW2l0ZW1JbmRleF07XHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1jYW5jZWwnKVtpdGVtSW5kZXhdO1xyXG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLXNhdmUnKVtpdGVtSW5kZXhdO1xyXG4gICAgY29uc3QgYXJjaGl2ZVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFyY2hpdmVfX3ZhbHVlLS1qcycpW2l0ZW1JbmRleF07XHJcblxyXG4gICAgLy8gRjMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBUT0dHTEUgSVRFTSBESVNQTEFZIDw8IEhBTkRMRSBJVEVNIEVESVQgXHJcblxyXG4gICAgY29uc3QgdG9nZ2xlSXRlbURpc3BsYXkgPSAoKSA9PiB7XHJcbiAgICAgIGFyY2hpdmUuY2xhc3NMaXN0LnRvZ2dsZSgnYXJjaGl2ZS0tb24tdG9wJyk7XHJcbiAgICAgIGFyY2hpdmVJdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2FyY2hpdmVfX2l0ZW0tLW9uLXRvcCcpO1xyXG4gICAgICBwYWdlT3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdhcmNoaXZlX19vdmVybGF5LS12aXNpYmxlJyk7XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IGVkaXRCdXR0b24gb2YgZWRpdFNlY3Rpb24uY2hpbGRyZW4pIHtcclxuICAgICAgICBlZGl0QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpb25fX2J1dHRvbi0tdmlzaWJsZScpO1xyXG4gICAgICB9XHJcbiAgICAgIGVkaXRTZWN0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpb24tLXZpc2libGUnKTtcclxuICAgIH1cclxuICAgIC8vIEYzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFWElUIEVESVQgTU9ERSA8PCBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICAgIGNvbnN0IGV4aXRFZGl0TW9kZSA9ICgpID0+IHtcclxuICAgICAgdG9nZ2xlSXRlbURpc3BsYXkoKTtcclxuICAgICAgYXJjaGl2ZVZhbHVlLnRleHRDb250ZW50ID0gaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0udmFsdWU7XHJcbiAgICAgIHNldEluZGljYXRvcnMoaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0uSUQsIGh5ZHJhcHBBcnJheVtpdGVtSW5kZXhdLnZhbHVlKTtcclxuXHJcbiAgICAgIGFyY2hpdmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFZGl0aW9uKTtcclxuICAgICAgYXJjaGl2ZS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRWRpdGlvbik7XHJcbiAgICB9XHJcbiAgICAvLyBGMyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gSEFORExFIEVESVRJT04gPDwgSEFORExFIElURU0gRURJVCBcclxuXHJcbiAgICBjb25zdCBoYW5kbGVFZGl0aW9uID0gKGUpID0+IHtcclxuICAgICAgY29uc3Qgc2VsZiA9IGUua2V5Q29kZSB8fCBlLnRhcmdldDtcclxuICAgICAgbGV0IHZhbHVlID0gcGFyc2VJbnQoYXJjaGl2ZVZhbHVlLnRleHRDb250ZW50KTtcclxuXHJcbiAgICAgIHN3aXRjaCAoc2VsZikge1xyXG5cclxuICAgICAgICBjYXNlIDM3OlxyXG4gICAgICAgIGNhc2UgZGVjcmVhc2VCdXR0b246XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB2YWx1ZSA+IDAgPyB2YWx1ZS0tIDogZmFsc2U7XHJcbiAgICAgICAgICBhcmNoaXZlVmFsdWUudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICAgIHNldEluZGljYXRvcnMoaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0uSUQsIHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBcclxuICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgIGNhc2UgaW5jcmVhc2VCdXR0b246XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB2YWx1ZSA8IGNvdW50ZXJNYXhWYWx1ZSA/IHZhbHVlKysgOiBmYWxzZTtcclxuICAgICAgICAgIGFyY2hpdmVWYWx1ZS50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgc2V0SW5kaWNhdG9ycyhoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS5JRCwgdmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIDI3OlxyXG4gICAgICAgIGNhc2UgcGFnZU92ZXJsYXk6XHJcbiAgICAgICAgY2FzZSBjYW5jZWxCdXR0b246XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBleGl0RWRpdE1vZGUoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICBjYXNlIHNhdmVCdXR0b246XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0ua2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICBleGl0RWRpdE1vZGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OIENBTExTIDw8IEhBTkRMRSBJVEVNIEVESVQgXHJcblxyXG4gICAgdG9nZ2xlSXRlbURpc3BsYXkoKTtcclxuICAgIGFyY2hpdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFZGl0aW9uKTtcclxuICAgIGFyY2hpdmUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVkaXRpb24pO1xyXG5cclxuICB9IC8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEVORCBPRiBIQU5ETEUgSVRFTSBFRElUIFxyXG4gIFxyXG4gIC8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIExPQUQgTU9SRSA8PCBTSE9XIEFSQ0hJVkUgXHJcbiAgY29uc3QgbG9hZE1vcmVJdGVtcyA9ICgpID0+IHtcclxuICAgIFxyXG4gICAgY29uc3QgYXJjaGl2ZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFyY2hpdmVfX2l0ZW0tLWpzJyk7XHJcbiAgICBjb25zdCBpdGVtQXJyYXkgPSBbLi4uYXJjaGl2ZUl0ZW1zXTtcclxuICAgIGNvbnN0IGFyY2hpdmVMaXN0SGVpZ2h0ID0gYXJjaGl2ZUxpc3QuY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgIGxldCBmaXJzdEluZGV4VG9Mb2FkID0gaXRlbUFycmF5LmZpbmRJbmRleChlbGVtID0+ICFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYXJjaGl2ZV9faXRlbS0tdmlzaWJsZScpKTtcclxuICAgIGxldCBoZWlnaHRzID0gMDtcclxuICAgIGxldCBzY3JvbGxPZmZzZXQgPSBhcmNoaXZlTGlzdC5zY3JvbGxUb3A7XHJcblxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgXHJcbiAgICAgIGlmIChmaXJzdEluZGV4VG9Mb2FkIDwgaXRlbUFycmF5Lmxlbmd0aCAmJiBmaXJzdEluZGV4VG9Mb2FkID49IDApIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gaXRlbUFycmF5W2ZpcnN0SW5kZXhUb0xvYWRdO1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYXJjaGl2ZV9faXRlbS0tdmlzaWJsZScpO1xyXG4gICAgICAgIGhlaWdodHMgKz0gaXRlbS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgc2Nyb2xsT2Zmc2V0ICs9IGl0ZW0ub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChoZWlnaHRzIDw9IGFyY2hpdmVMaXN0SGVpZ2h0IC0gaXRlbS5vZmZzZXRIZWlnaHQpIHtcclxuICAgICAgICAgIGZpcnN0SW5kZXhUb0xvYWQrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXJjaGl2ZUxpc3Quc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xyXG4gICAgICAgICAgYXJjaGl2ZUxpc3Quc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0cyArICdweCc7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcmNoaXZlTGlzdC5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XHJcbiAgICAgICAgbG9hZE1vcmVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYXJjaGl2ZV9fYnV0dG9uLS1oaWRkZW4nKTtcclxuICAgICAgICBsb2FkTW9yZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGxvYWRNb3JlSXRlbXMpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQUREIE5FVyBJVEVNIDw8IFNIT1cgQVJDSElWRSBcclxuXHJcbiAgY29uc3QgYWRkTmV3SXRlbSA9ICgpID0+IHtcclxuXHJcbiAgICAvLyBzZXQgZGF0ZSBvYmplY3QgZm9yIGEgbmV3IGVudHJ5XHJcbiAgICBsYXN0RW50cnlEYXRlLnNldERhdGUobGFzdEVudHJ5RGF0ZS5nZXREYXRlKCkgLSAxKTtcclxuICAgIGNvbnN0IG5ld0VudHJ5S2V5ID0gc2V0RGF0ZUtleShsYXN0RW50cnlEYXRlKTtcclxuICAgIHNldE5ld0tleVZhbHVlKG5ld0VudHJ5S2V5LCAwKTtcclxuICAgIC8vIGNyZWF0ZSBuZXcgb2JqZWN0IGZvciBhcnJheVxyXG4gICAgY29uc3QgbmV3RW50cnkgPSBuZXcgRW50cnkobmV3RW50cnlLZXkpO1xyXG4gICAgaHlkcmFwcEFycmF5LnB1c2gobmV3RW50cnkpO1xyXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gaHlkcmFwcEFycmF5Lmxlbmd0aCAtIDE7XHJcbiAgICBhcmNoaXZlTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh5ZHJhcHBBcnJheVtjdXJyZW50SW5kZXhdLmh0bWwpO1xyXG4gICAgc2V0SW5kaWNhdG9ycyhoeWRyYXBwQXJyYXlbY3VycmVudEluZGV4XS5JRCwgaHlkcmFwcEFycmF5W2N1cnJlbnRJbmRleF0udmFsdWUpO1xyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJjaGl2ZUxpc3QuY2hpbGRyZW4pIHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhcmNoaXZlX19pdGVtLS12aXNpYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1lZGl0Jyk7XHJcbiAgICBjb25zdCBuZXdFZGl0QnV0dG9uID0gZWRpdEJ1dHRvbnNbY3VycmVudEluZGV4XTtcclxuICAgIG5ld0VkaXRCdXR0b24uaW5kZXggPSBjdXJyZW50SW5kZXg7XHJcbiAgICBuZXdFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSXRlbUVkaXQpO1xyXG4gIH1cclxuICAvLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFJFTU9WRSBMQVNUIElURU0gPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuICBjb25zdCByZW1vdmVMYXN0SXRlbSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGxhc3RJdGVtS2V5ID0gaHlkcmFwcEFycmF5W2h5ZHJhcHBBcnJheS5sZW5ndGggLSAxXS5rZXk7XHJcbiAgICBoeWRyYXBwQXJyYXkucG9wKCk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShsYXN0SXRlbUtleSk7XHJcbiAgICBhcmNoaXZlTGlzdC5yZW1vdmVDaGlsZChhcmNoaXZlTGlzdC5sYXN0RWxlbWVudENoaWxkKTtcclxuICB9XHJcbiAgLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBDTE9TRSBBUkNISVZFIDw8IFNIT1cgQVJDSElWRSBcclxuXHJcbiAgY29uc3QgY2xvc2VBcmNoaXZlID0gKCkgPT4ge1xyXG4gICAgYXJjaGl2ZS5jbGFzc0xpc3QucmVtb3ZlKCdhcmNoaXZlLS12aXNpYmxlJyk7XHJcbiAgICBsb2FkTW9yZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhcmNoaXZlX19idXR0b24tLWhpZGRlbicpO1xyXG5cclxuICAgIGNvbnN0IGFyY2hpdmVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcmNoaXZlX19pdGVtLS1qcycpO1xyXG4gICAgZm9yIChjb25zdCBhcmNoaXZlSXRlbSBvZiBhcmNoaXZlSXRlbXMpIHtcclxuICAgICAgYXJjaGl2ZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYXJjaGl2ZV9faXRlbS0tdmlzaWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE5ld0J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld0l0ZW0pO1xyXG4gICAgcmVtb3ZlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlTGFzdEl0ZW0pO1xyXG4gICAgbG9hZE1vcmVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsb2FkTW9yZUl0ZW1zKTtcclxuICAgIGFyY2hpdmVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFyY2hpdmUpO1xyXG5cclxuICAgIGZvciAoY29uc3QgZWRpdEJ1dHRvbiBvZiBlZGl0QnV0dG9ucykge1xyXG4gICAgICBlZGl0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSXRlbUVkaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFyY2hpdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93QXJjaGl2ZSk7XHJcbiAgfVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFZBUklBQkxFUyA8PCBTSE9XIEFSQ0hJVkUgXHJcblxyXG4gIGxldCBlZGl0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWVkaXQnKTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OIENBTExTIDw8IFNIT1cgQVJDSElWRSBcclxuXHJcbiAgYXJjaGl2ZS5jbGFzc0xpc3QuYWRkKCdhcmNoaXZlLS12aXNpYmxlJyk7XHJcbiAgbG9hZE1vcmVJdGVtcygpO1xyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFVkVOVCBMSVNURU5FUlMgPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuICBhcmNoaXZlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FyY2hpdmUpO1xyXG4gIGFyY2hpdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFyY2hpdmUpO1xyXG4gIGxvYWRNb3JlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZE1vcmVJdGVtcyk7XHJcbiAgYWRkTmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3SXRlbSk7XHJcbiAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlTGFzdEl0ZW0pO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVkaXRCdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZWRpdEJ1dHRvbnNbaV07XHJcbiAgICBlZGl0QnV0dG9uLmluZGV4ID0gaTtcclxuICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVJdGVtRWRpdCk7XHJcbiAgfVxyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRU5EIE9GIFNIT1cgQVJDSElWRSBcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFZBUklBQkxFUyBcclxuXHJcbmNvbnN0IGFwcENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2NvbnRhaW5lci0tanMnKTtcclxuY29uc3QgYWRkR2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19idXR0b24tLWpzLWFkZCcpO1xyXG5jb25zdCByZW1vdmVHbGFzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2J1dHRvbi0tanMtcmVtb3ZlJyk7XHJcbmNvbnN0IGNvdW50ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2xhc3NfX2NvdW50ZXItLWpzJyk7XHJcbmNvbnN0IGNvdW50ZXJNYXhWYWx1ZSA9IDk5O1xyXG5cclxuY29uc3QgYXJjaGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlLS1qcycpO1xyXG5jb25zdCBwYWdlT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlX19vdmVybGF5LS1qcycpO1xyXG5jb25zdCBhcmNoaXZlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlX19saXN0LS1qcycpO1xyXG5jb25zdCBhcmNoaXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb25fX2J1dHRvbi0tanMtYXJjaGl2ZScpO1xyXG5jb25zdCBsb2FkTW9yZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlX19idXR0b24tLWpzLWxvYWQtbW9yZScpO1xyXG5jb25zdCBhZGROZXdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fYnV0dG9uLS1hZGQtbmV3Jyk7XHJcbmNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcmNoaXZlX19idXR0b24tLXJlbW92ZScpXHJcblxyXG5jb25zdCBzdGF0c0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uX19idXR0b24tLWpzLXN0YXRzJyk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRlVOQ1RJT04gQ0FMTFMgXHJcblxyXG5zZXRMb2NhbFN0b3JhZ2UoKTtcclxuc2V0QXJjaGl2ZSgpO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRVZFTlQgTElTVEVORVJTIFxyXG5cclxuYXBwQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdXBkYXRlQ291bnRlcik7XHJcbmFyY2hpdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93QXJjaGl2ZSk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);