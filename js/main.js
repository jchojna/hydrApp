!function(c){var t={};function e(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return c[n].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=c,e.c=t,e.d=function(c,t,n){e.o(c,t)||Object.defineProperty(c,t,{enumerable:!0,get:n})},e.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},e.t=function(c,t){if(1&t&&(c=e(c)),8&t)return c;if(4&t&&"object"==typeof c&&c&&c.__esModule)return c;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:c}),2&t&&"string"!=typeof c)for(var l in c)e.d(n,l,function(t){return c[t]}.bind(null,l));return n},e.n=function(c){var t=c&&c.__esModule?function(){return c.default}:function(){return c};return e.d(t,"a",t),t},e.o=function(c,t){return Object.prototype.hasOwnProperty.call(c,t)},e.p="",e(e.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\r\n\r\n/////////////////////////////////////////////////////////////// SERVICE WORKER \r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function() {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function(registration) {\r\n      // Registration was successful\r\n      //console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function(err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\n\r\n///////////////////////////////////////////////////////////// GLOBAL VARIABLES \r\n\r\nconst hydrappArray = [];\r\nconst lastEntryDate = new Date();\r\n\r\nlet indicators = '';\r\nfor (let i = 0; i < 8; i++) {\r\n  indicators += `\r\n  <svg class=\"indicator__svg indicator__svg--emo-${i+1} indicator__svg--js-${i}\">\r\n    <use href=\"assets/svg/icons.svg#emoticon-${i}\"></use>\r\n  </svg>`\r\n}\r\n\r\nclass Entry {\r\n  constructor(key) {\r\n    this.key = key;\r\n    this.getValue = key;\r\n    this.getTitle = key;\r\n    this.getID = key;\r\n\r\n    this.html = `\r\n      <li class=\"archive__item archive__item--js ${this.key}\">\r\n        <p class=\"archive__date\">${this.getTitle}</p>\r\n        <p class=\"archive__value archive__value--js\">\r\n          ${this.getValue}\r\n        </p>\r\n        <div class=\"edition edition--js\">\r\n          <button class=\"button edition__button edition__button--visible edition__button--edit edition__button--js-edit\">\r\n            <svg class=\"edition__svg edition__svg--edit\">\r\n              <use href=\"assets/svg/icons.svg#edit-mode\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--decrease edition__button--js-decrease\">\r\n            <svg class=\"edition__svg edition__svg--decrease\">\r\n              <use href=\"assets/svg/icons.svg#left-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--increase edition__button--js-increase\">\r\n            <svg class=\"edition__svg edition__svg--increase\">\r\n              <use href=\"assets/svg/icons.svg#right-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--cancel edition__button--js-cancel\">\r\n            <svg class=\"edition__svg edition__svg--cancel\">\r\n              <use href=\"assets/svg/icons.svg#back-arrow\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"button edition__button edition__button--save edition__button--js-save\">\r\n            <svg class=\"edition__svg edition__svg--save\">\r\n              <use href=\"assets/svg/icons.svg#save-icon\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"indicator indicator--js-${this.getID}\">\r\n          ${indicators}\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n\r\n  get getValue() {\r\n    return this.value;\r\n  }\r\n  set getValue(key) {\r\n    this.value = localStorage.getItem(key);\r\n  }\r\n  get getTitle() {\r\n    return this.title;\r\n  }\r\n  set getTitle(date) {\r\n    this.title = date.replace('hydrApp-','').split('-').reverse().join(' ');\r\n  }\r\n  get getID() {\r\n    return this.ID;\r\n  }\r\n  set getID(date) {\r\n    this.ID = date.replace('hydrApp-','').split('-').reverse().join('');\r\n  }\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////// FUNCTIONS \r\n\r\n// F1 //////////////////////////////////////////////// CREATE HYDRAPP DATE KEY \r\n\r\nconst setDateKey = (obj) => {\r\n  const prefix = 'hydrApp-';\r\n  const date = obj.toISOString().slice(0,10);\r\n  return prefix.concat(date);\r\n}\r\n// F1 ///////////////////////////////// CREATE KEY VALUE PAIR IN LOCAL STORAGE \r\n\r\nconst setNewKeyValue = (key, value) => {\r\n  if ( !localStorage.getItem(key) ) {\r\n    localStorage.setItem(key, value);\r\n  };\r\n}\r\n// F1 ///////////////////////////// CREATE ARRAY OF HYDRAPP LOCAL STORAGE KEYS \r\n\r\nconst getHydrappKeys = () => {\r\n  const regex = /hydrApp-/;\r\n  return Object\r\n  .keys(localStorage)\r\n  .filter(key => regex.test(key))\r\n  .sort()\r\n  .reverse();\r\n}\r\n// F1 ////////////////////////////////////////////////////// GET OFFSETED DATE \r\n\r\nconst getOffsetedDate = () => {\r\n  const timeZoneOffset = (new Date()).getTimezoneOffset() * 60000;\r\n  return (new Date(Date.now() - timeZoneOffset));\r\n}\r\n// F1 //////////////////////////////////////////////////////////// SET COUNTER \r\n\r\nconst setLocalStorage = () => {\r\n  const offsetedDate = getOffsetedDate();                           // ! OFFSETED OR NORMAL ???\r\n  let dateKey = setDateKey(offsetedDate);\r\n  const hydrappKeys = getHydrappKeys();\r\n  const oldestKey = hydrappKeys[hydrappKeys.length - 1];\r\n\r\n  setNewKeyValue(dateKey, 0);\r\n  \r\n  if ( hydrappKeys.length > 2 ) { // autocomplete missing keys in localstorage\r\n    let limit = 0; // for tests to avoid loop error                            // ! TO REFACTOR\r\n\r\n    while (setDateKey(offsetedDate) !== oldestKey && limit < 99) {\r\n      offsetedDate.setDate(offsetedDate.getDate() - 1);\r\n      const prevDateKey = setDateKey(offsetedDate);\r\n      setNewKeyValue(prevDateKey, 0);\r\n      limit++;\r\n    }\r\n  }\r\n  counter.innerHTML = localStorage.getItem(dateKey);\r\n}\r\n// F1 ///////////////////////////////////////////////////////// UPDATE COUNTER \r\n\r\nconst updateCounter = (e) => {\r\n  const self = e.target;\r\n  const offsetedDate = getOffsetedDate();\r\n  const key = setDateKey(offsetedDate);\r\n  const value = parseInt(localStorage.getItem(key));\r\n  let newValue;\r\n\r\n  if (self === addGlass || self === removeGlass) {\r\n    switch (self) {\r\n      case addGlass:\r\n        value < counterMaxValue ? newValue = value + 1 : newValue = counterMaxValue;\r\n        break;\r\n      case removeGlass:\r\n        value > 0 ? newValue = value - 1 : newValue = 0;\r\n        break;\r\n    }\r\n    localStorage.setItem(key, newValue);\r\n    counter.innerHTML = newValue;\r\n  }\r\n}\r\n// F1 //////////////////////////////////////////////////////////// SET ARCHIVE \r\n\r\nconst setArchive = () => {\r\n  const hydrappKeys = getHydrappKeys();\r\n  \r\n  if (hydrappKeys.length === 1) {\r\n    archiveList.innerHTML += `\r\n      <li class=\"archive__item archive__item--empty\">No history yet...</li>\r\n      `;\r\n\r\n  } else {\r\n\r\n    for (let i = 1; i < hydrappKeys.length; i++) {\r\n\r\n      const newEntry = new Entry(hydrappKeys[i]);\r\n      archiveList.innerHTML += newEntry.html;\r\n      lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n      setIndicators(newEntry.ID, newEntry.value);\r\n      hydrappArray.push(newEntry);\r\n    }\r\n    console.log('hydrappArray', hydrappArray);\r\n  }\r\n}\r\n// F1 ///////////////////////////////////////////////////////// SET INDICATORS \r\n\r\nconst setIndicators = (id, value) => {\r\n\r\n  value > 7 ? value = 7 : false;\r\n\r\n  const indicators = document.querySelector(`.indicator--js-${id}`).children;\r\n  const indicator = document.querySelector(`.indicator--js-${id} .indicator__svg--js-${value}`);\r\n  \r\n  for (const indicator of indicators) {\r\n    indicator.classList.contains('indicator__svg--visible')\r\n    ? indicator.classList.remove('indicator__svg--visible')\r\n    : false;\r\n  }\r\n  indicator.classList.add('indicator__svg--visible');\r\n}\r\n// F1 /////////////////////////////////////////////////////////// SHOW ARCHIVE \r\nconst showArchive = () => {\r\n\r\n  // F2 ///////////////////////////////////////////////////// HANDLE ITEM EDIT \r\n\r\n  const handleItemEdit = (e) => {\r\n    const itemIndex = e.target.index;\r\n    const archiveItem = document.querySelectorAll('.archive__item--js')[itemIndex];\r\n    const editSection = document.querySelectorAll('.edition--js')[itemIndex];\r\n    const decreaseButton = document.querySelectorAll('.edition__button--js-decrease')[itemIndex];\r\n    const increaseButton = document.querySelectorAll('.edition__button--js-increase')[itemIndex];\r\n    const cancelButton = document.querySelectorAll('.edition__button--js-cancel')[itemIndex];\r\n    const saveButton = document.querySelectorAll('.edition__button--js-save')[itemIndex];\r\n    const archiveValue = document.querySelectorAll('.archive__value--js')[itemIndex];\r\n\r\n    // F3 //////////////////////////// TOGGLE ITEM DISPLAY << HANDLE ITEM EDIT \r\n\r\n    const toggleItemDisplay = () => {\r\n      archive.classList.toggle('archive--on-top');\r\n      archiveItem.classList.toggle('archive__item--on-top');\r\n      pageOverlay.classList.toggle('archive__overlay--visible');\r\n      \r\n      for (const editButton of editSection.children) {\r\n        editButton.classList.toggle('edition__button--visible');\r\n      }\r\n      editSection.classList.toggle('edition--visible');\r\n    }\r\n    // F3 ///////////////////////////////// EXIT EDIT MODE << HANDLE ITEM EDIT \r\n\r\n    const exitEditMode = () => {\r\n      toggleItemDisplay();\r\n      archiveValue.textContent = hydrappArray[itemIndex].value;\r\n      setIndicators(hydrappArray[itemIndex].ID, hydrappArray[itemIndex].value);\r\n\r\n      archive.removeEventListener('click', handleEdition);\r\n      archive.removeEventListener('keydown', handleEdition);\r\n    }\r\n    // F3 ///////////////////////////////// HANDLE EDITION << HANDLE ITEM EDIT \r\n\r\n    const handleEdition = (e) => {\r\n      const self = e.keyCode || e.target;\r\n      let value = parseInt(archiveValue.textContent);\r\n\r\n      switch (self) {\r\n\r\n        case 37:\r\n        case decreaseButton:\r\n          e.preventDefault();\r\n          value > 0 ? value-- : false;\r\n          archiveValue.textContent = value;\r\n          setIndicators(hydrappArray[itemIndex].ID, value);\r\n        break;\r\n        \r\n        case 39:\r\n        case increaseButton:\r\n          e.preventDefault();\r\n          value < counterMaxValue ? value++ : false;\r\n          archiveValue.textContent = value;\r\n          setIndicators(hydrappArray[itemIndex].ID, value);\r\n        break;\r\n\r\n        case 27:\r\n        case pageOverlay:\r\n        case cancelButton:\r\n          e.preventDefault();\r\n          exitEditMode();\r\n        break;\r\n\r\n        case 13:\r\n        case saveButton:\r\n          e.preventDefault();\r\n          hydrappArray[itemIndex].value = value;\r\n          localStorage.setItem(hydrappArray[itemIndex].key, value);\r\n          exitEditMode();\r\n        break;\r\n      }\r\n    }\r\n    /////////////////////////////////////// FUNCTION CALLS << HANDLE ITEM EDIT \r\n\r\n    toggleItemDisplay();\r\n    archive.addEventListener('click', handleEdition);\r\n    archive.addEventListener('keydown', handleEdition);\r\n\r\n  } // F2 //////////////////////////////////////////// END OF HANDLE ITEM EDIT \r\n  \r\n  // F2 //////////////////////////////////////////// LOAD MORE << SHOW ARCHIVE \r\n  const loadMoreItems = () => {\r\n    \r\n    const archiveItems = document.querySelectorAll('.archive__item--js');\r\n    const itemArray = [...archiveItems];\r\n    const archiveListHeight = archiveList.clientHeight;\r\n\r\n    let firstIndexToLoad = itemArray.findIndex(elem => !elem.classList.contains('archive__item--visible'));\r\n    let heights = 0;\r\n    let scrollOffset = archiveList.scrollTop;\r\n\r\n    while (true) {\r\n      \r\n      if (firstIndexToLoad < itemArray.length && firstIndexToLoad >= 0) {\r\n        const item = itemArray[firstIndexToLoad];\r\n        item.classList.add('archive__item--visible');\r\n        heights += item.offsetHeight;\r\n        scrollOffset += item.offsetHeight;\r\n        \r\n        if (heights <= archiveListHeight - item.offsetHeight) {\r\n          firstIndexToLoad++;\r\n        } else {\r\n          archiveList.scrollTop = scrollOffset;\r\n          archiveList.style.height = heights + 'px';\r\n          return false;\r\n        }\r\n\r\n      } else {\r\n        archiveList.scrollTop = scrollOffset;\r\n        loadMoreButton.classList.add('archive__button--hidden');\r\n        loadMoreButton.removeEventListener('click', loadMoreItems);\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // F2 ///////////////////////////////////////// ADD NEW ITEM << SHOW ARCHIVE \r\n\r\n  const addNewItem = () => {\r\n\r\n    // set date object for a new entry\r\n    lastEntryDate.setDate(lastEntryDate.getDate() - 1);\r\n    const newEntryKey = setDateKey(lastEntryDate);\r\n    setNewKeyValue(newEntryKey, 0);\r\n    // create new object for array\r\n    const newEntry = new Entry(newEntryKey);\r\n    hydrappArray.push(newEntry);\r\n    const currentIndex = hydrappArray.length - 1;\r\n    archiveList.insertAdjacentHTML('beforeend', hydrappArray[currentIndex].html);\r\n    setIndicators(hydrappArray[currentIndex].ID, hydrappArray[currentIndex].value);\r\n    \r\n    for (const item of archiveList.children) {\r\n      item.classList.add('archive__item--visible');\r\n    }\r\n\r\n    editButtons = document.querySelectorAll('.edition__button--js-edit');\r\n    const newEditButton = editButtons[currentIndex];\r\n    newEditButton.index = currentIndex;\r\n    newEditButton.addEventListener('click', handleItemEdit);\r\n  }\r\n  // F2 ///////////////////////////////////// REMOVE LAST ITEM << SHOW ARCHIVE \r\n\r\n  const removeLastItem = () => {\r\n    const lastItemKey = hydrappArray[hydrappArray.length - 1].key;\r\n    hydrappArray.pop();\r\n    localStorage.removeItem(lastItemKey);\r\n    lastEntryDate.setDate(lastEntryDate.getDate() + 1);\r\n    archiveList.removeChild(archiveList.lastElementChild);\r\n  }\r\n  // F2 //////////////////////////////////////// CLOSE ARCHIVE << SHOW ARCHIVE \r\n\r\n  const closeArchive = () => {\r\n    archive.classList.remove('archive--visible');\r\n    loadMoreButton.classList.remove('archive__button--hidden');\r\n\r\n    const archiveItems = document.querySelectorAll('.archive__item--js');\r\n    for (const archiveItem of archiveItems) {\r\n      archiveItem.classList.remove('archive__item--visible');\r\n    }\r\n\r\n    addNewButton.removeEventListener('click', addNewItem);\r\n    removeButton.removeEventListener('click', removeLastItem);\r\n    loadMoreButton.removeEventListener('click', loadMoreItems);\r\n    archiveButton.removeEventListener('click', closeArchive);\r\n\r\n    for (const editButton of editButtons) {\r\n      editButton.removeEventListener('click', handleItemEdit);\r\n    }\r\n\r\n    archiveButton.addEventListener('click', showArchive);\r\n  }\r\n  ////////////////////////////////////////////////// VARIABLES << SHOW ARCHIVE \r\n\r\n  let editButtons = document.querySelectorAll('.edition__button--js-edit');\r\n\r\n  ///////////////////////////////////////////// FUNCTION CALLS << SHOW ARCHIVE \r\n\r\n  archive.classList.add('archive--visible');\r\n  loadMoreItems();\r\n\r\n  //////////////////////////////////////////// EVENT LISTENERS << SHOW ARCHIVE \r\n\r\n  archiveButton.removeEventListener('click', showArchive);\r\n  archiveButton.addEventListener('click', closeArchive);\r\n  loadMoreButton.addEventListener('click', loadMoreItems);\r\n  addNewButton.addEventListener('click', addNewItem);\r\n  removeButton.addEventListener('click', removeLastItem);\r\n\r\n  for (let i = 0; i < editButtons.length; i++) {\r\n    const editButton = editButtons[i];\r\n    editButton.index = i;\r\n    editButton.addEventListener('click', handleItemEdit);\r\n  }\r\n}\r\n// F1 //////////////////////////////////////////////////// END OF SHOW ARCHIVE \r\n\r\n//////////////////////////////////////////////////////////////////// VARIABLES \r\n\r\nconst appContainer = document.querySelector('.app__container--js');\r\nconst addGlass = document.querySelector('.app__button--js-add');\r\nconst removeGlass = document.querySelector('.app__button--js-remove');\r\nconst counter = document.querySelector('.glass__counter--js');\r\nconst counterMaxValue = 99;\r\n\r\nconst archive = document.querySelector('.archive--js');\r\nconst pageOverlay = document.querySelector('.archive__overlay--js');\r\nconst archiveList = document.querySelector('.archive__list--js');\r\nconst archiveButton = document.querySelector('.navigation__button--js-archive');\r\nconst loadMoreButton = document.querySelector('.archive__button--js-load-more');\r\nconst addNewButton = document.querySelector('.archive__button--add-new');\r\nconst removeButton = document.querySelector('.archive__button--remove')\r\n\r\nconst statsButton = document.querySelector('.navigation__button--js-stats');\r\n\r\n/////////////////////////////////////////////////////////////// FUNCTION CALLS \r\n\r\nsetLocalStorage();\r\nsetArchive();\r\n\r\n////////////////////////////////////////////////////////////// EVENT LISTENERS \r\n\r\nappContainer.addEventListener('click', updateCounter);\r\narchiveButton.addEventListener('click', showArchive);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBLG1EQUFtRCxJQUFJLHNCQUFzQixFQUFFO0FBQy9FLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsV0FBVztBQUN6RCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDO0FBQ2pDLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVILG1CQUFtQix3QkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDhEQUE4RCxHQUFHO0FBQ2pFLDZEQUE2RCxHQUFHLHVCQUF1QixNQUFNOztBQUU3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNFUlZJQ0UgV09SS0VSIFxyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NlcnZpY2V3b3JrZXIuanMnKS50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbikge1xyXG4gICAgICAvLyBSZWdpc3RyYXRpb24gd2FzIHN1Y2Nlc3NmdWxcclxuICAgICAgLy9jb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCB3aXRoIHNjb3BlOiAnLCByZWdpc3RyYXRpb24uc2NvcGUpO1xyXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgIC8vIHJlZ2lzdHJhdGlvbiBmYWlsZWQgOihcclxuICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEdMT0JBTCBWQVJJQUJMRVMgXHJcblxyXG5jb25zdCBoeWRyYXBwQXJyYXkgPSBbXTtcclxuY29uc3QgbGFzdEVudHJ5RGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG5sZXQgaW5kaWNhdG9ycyA9ICcnO1xyXG5mb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gIGluZGljYXRvcnMgKz0gYFxyXG4gIDxzdmcgY2xhc3M9XCJpbmRpY2F0b3JfX3N2ZyBpbmRpY2F0b3JfX3N2Zy0tZW1vLSR7aSsxfSBpbmRpY2F0b3JfX3N2Zy0tanMtJHtpfVwiPlxyXG4gICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjZW1vdGljb24tJHtpfVwiPjwvdXNlPlxyXG4gIDwvc3ZnPmBcclxufVxyXG5cclxuY2xhc3MgRW50cnkge1xyXG4gIGNvbnN0cnVjdG9yKGtleSkge1xyXG4gICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICB0aGlzLmdldFZhbHVlID0ga2V5O1xyXG4gICAgdGhpcy5nZXRUaXRsZSA9IGtleTtcclxuICAgIHRoaXMuZ2V0SUQgPSBrZXk7XHJcblxyXG4gICAgdGhpcy5odG1sID0gYFxyXG4gICAgICA8bGkgY2xhc3M9XCJhcmNoaXZlX19pdGVtIGFyY2hpdmVfX2l0ZW0tLWpzICR7dGhpcy5rZXl9XCI+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJhcmNoaXZlX19kYXRlXCI+JHt0aGlzLmdldFRpdGxlfTwvcD5cclxuICAgICAgICA8cCBjbGFzcz1cImFyY2hpdmVfX3ZhbHVlIGFyY2hpdmVfX3ZhbHVlLS1qc1wiPlxyXG4gICAgICAgICAgJHt0aGlzLmdldFZhbHVlfVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZWRpdGlvbiBlZGl0aW9uLS1qc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBlZGl0aW9uX19idXR0b24gZWRpdGlvbl9fYnV0dG9uLS12aXNpYmxlIGVkaXRpb25fX2J1dHRvbi0tZWRpdCBlZGl0aW9uX19idXR0b24tLWpzLWVkaXRcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImVkaXRpb25fX3N2ZyBlZGl0aW9uX19zdmctLWVkaXRcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNlZGl0LW1vZGVcIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZWRpdGlvbl9fYnV0dG9uIGVkaXRpb25fX2J1dHRvbi0tZGVjcmVhc2UgZWRpdGlvbl9fYnV0dG9uLS1qcy1kZWNyZWFzZVwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZWRpdGlvbl9fc3ZnIGVkaXRpb25fX3N2Zy0tZGVjcmVhc2VcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNsZWZ0LWFycm93XCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLWluY3JlYXNlIGVkaXRpb25fX2J1dHRvbi0tanMtaW5jcmVhc2VcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImVkaXRpb25fX3N2ZyBlZGl0aW9uX19zdmctLWluY3JlYXNlXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjcmlnaHQtYXJyb3dcIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZWRpdGlvbl9fYnV0dG9uIGVkaXRpb25fX2J1dHRvbi0tY2FuY2VsIGVkaXRpb25fX2J1dHRvbi0tanMtY2FuY2VsXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1jYW5jZWxcIj5cclxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJhc3NldHMvc3ZnL2ljb25zLnN2ZyNiYWNrLWFycm93XCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkaXRpb25fX2J1dHRvbiBlZGl0aW9uX19idXR0b24tLXNhdmUgZWRpdGlvbl9fYnV0dG9uLS1qcy1zYXZlXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJlZGl0aW9uX19zdmcgZWRpdGlvbl9fc3ZnLS1zYXZlXCI+XHJcbiAgICAgICAgICAgICAgPHVzZSBocmVmPVwiYXNzZXRzL3N2Zy9pY29ucy5zdmcjc2F2ZS1pY29uXCI+PC91c2U+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImluZGljYXRvciBpbmRpY2F0b3ItLWpzLSR7dGhpcy5nZXRJRH1cIj5cclxuICAgICAgICAgICR7aW5kaWNhdG9yc31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9saT5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGdldCBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gIH1cclxuICBzZXQgZ2V0VmFsdWUoa2V5KSB7XHJcbiAgICB0aGlzLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICB9XHJcbiAgZ2V0IGdldFRpdGxlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGl0bGU7XHJcbiAgfVxyXG4gIHNldCBnZXRUaXRsZShkYXRlKSB7XHJcbiAgICB0aGlzLnRpdGxlID0gZGF0ZS5yZXBsYWNlKCdoeWRyQXBwLScsJycpLnNwbGl0KCctJykucmV2ZXJzZSgpLmpvaW4oJyAnKTtcclxuICB9XHJcbiAgZ2V0IGdldElEKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuSUQ7XHJcbiAgfVxyXG4gIHNldCBnZXRJRChkYXRlKSB7XHJcbiAgICB0aGlzLklEID0gZGF0ZS5yZXBsYWNlKCdoeWRyQXBwLScsJycpLnNwbGl0KCctJykucmV2ZXJzZSgpLmpvaW4oJycpO1xyXG4gIH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRlVOQ1RJT05TIFxyXG5cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENSRUFURSBIWURSQVBQIERBVEUgS0VZIFxyXG5cclxuY29uc3Qgc2V0RGF0ZUtleSA9IChvYmopID0+IHtcclxuICBjb25zdCBwcmVmaXggPSAnaHlkckFwcC0nO1xyXG4gIGNvbnN0IGRhdGUgPSBvYmoudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKTtcclxuICByZXR1cm4gcHJlZml4LmNvbmNhdChkYXRlKTtcclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQ1JFQVRFIEtFWSBWQUxVRSBQQUlSIElOIExPQ0FMIFNUT1JBR0UgXHJcblxyXG5jb25zdCBzZXROZXdLZXlWYWx1ZSA9IChrZXksIHZhbHVlKSA9PiB7XHJcbiAgaWYgKCAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSApIHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gIH07XHJcbn1cclxuLy8gRjEgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQ1JFQVRFIEFSUkFZIE9GIEhZRFJBUFAgTE9DQUwgU1RPUkFHRSBLRVlTIFxyXG5cclxuY29uc3QgZ2V0SHlkcmFwcEtleXMgPSAoKSA9PiB7XHJcbiAgY29uc3QgcmVnZXggPSAvaHlkckFwcC0vO1xyXG4gIHJldHVybiBPYmplY3RcclxuICAua2V5cyhsb2NhbFN0b3JhZ2UpXHJcbiAgLmZpbHRlcihrZXkgPT4gcmVnZXgudGVzdChrZXkpKVxyXG4gIC5zb3J0KClcclxuICAucmV2ZXJzZSgpO1xyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBHRVQgT0ZGU0VURUQgREFURSBcclxuXHJcbmNvbnN0IGdldE9mZnNldGVkRGF0ZSA9ICgpID0+IHtcclxuICBjb25zdCB0aW1lWm9uZU9mZnNldCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7XHJcbiAgcmV0dXJuIChuZXcgRGF0ZShEYXRlLm5vdygpIC0gdGltZVpvbmVPZmZzZXQpKTtcclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0VUIENPVU5URVIgXHJcblxyXG5jb25zdCBzZXRMb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XHJcbiAgY29uc3Qgb2Zmc2V0ZWREYXRlID0gZ2V0T2Zmc2V0ZWREYXRlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gISBPRkZTRVRFRCBPUiBOT1JNQUwgPz8/XHJcbiAgbGV0IGRhdGVLZXkgPSBzZXREYXRlS2V5KG9mZnNldGVkRGF0ZSk7XHJcbiAgY29uc3QgaHlkcmFwcEtleXMgPSBnZXRIeWRyYXBwS2V5cygpO1xyXG4gIGNvbnN0IG9sZGVzdEtleSA9IGh5ZHJhcHBLZXlzW2h5ZHJhcHBLZXlzLmxlbmd0aCAtIDFdO1xyXG5cclxuICBzZXROZXdLZXlWYWx1ZShkYXRlS2V5LCAwKTtcclxuICBcclxuICBpZiAoIGh5ZHJhcHBLZXlzLmxlbmd0aCA+IDIgKSB7IC8vIGF1dG9jb21wbGV0ZSBtaXNzaW5nIGtleXMgaW4gbG9jYWxzdG9yYWdlXHJcbiAgICBsZXQgbGltaXQgPSAwOyAvLyBmb3IgdGVzdHMgdG8gYXZvaWQgbG9vcCBlcnJvciAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAhIFRPIFJFRkFDVE9SXHJcblxyXG4gICAgd2hpbGUgKHNldERhdGVLZXkob2Zmc2V0ZWREYXRlKSAhPT0gb2xkZXN0S2V5ICYmIGxpbWl0IDwgOTkpIHtcclxuICAgICAgb2Zmc2V0ZWREYXRlLnNldERhdGUob2Zmc2V0ZWREYXRlLmdldERhdGUoKSAtIDEpO1xyXG4gICAgICBjb25zdCBwcmV2RGF0ZUtleSA9IHNldERhdGVLZXkob2Zmc2V0ZWREYXRlKTtcclxuICAgICAgc2V0TmV3S2V5VmFsdWUocHJldkRhdGVLZXksIDApO1xyXG4gICAgICBsaW1pdCsrO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb3VudGVyLmlubmVySFRNTCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGRhdGVLZXkpO1xyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBVUERBVEUgQ09VTlRFUiBcclxuXHJcbmNvbnN0IHVwZGF0ZUNvdW50ZXIgPSAoZSkgPT4ge1xyXG4gIGNvbnN0IHNlbGYgPSBlLnRhcmdldDtcclxuICBjb25zdCBvZmZzZXRlZERhdGUgPSBnZXRPZmZzZXRlZERhdGUoKTtcclxuICBjb25zdCBrZXkgPSBzZXREYXRlS2V5KG9mZnNldGVkRGF0ZSk7XHJcbiAgY29uc3QgdmFsdWUgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcclxuICBsZXQgbmV3VmFsdWU7XHJcblxyXG4gIGlmIChzZWxmID09PSBhZGRHbGFzcyB8fCBzZWxmID09PSByZW1vdmVHbGFzcykge1xyXG4gICAgc3dpdGNoIChzZWxmKSB7XHJcbiAgICAgIGNhc2UgYWRkR2xhc3M6XHJcbiAgICAgICAgdmFsdWUgPCBjb3VudGVyTWF4VmFsdWUgPyBuZXdWYWx1ZSA9IHZhbHVlICsgMSA6IG5ld1ZhbHVlID0gY291bnRlck1heFZhbHVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHJlbW92ZUdsYXNzOlxyXG4gICAgICAgIHZhbHVlID4gMCA/IG5ld1ZhbHVlID0gdmFsdWUgLSAxIDogbmV3VmFsdWUgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBuZXdWYWx1ZSk7XHJcbiAgICBjb3VudGVyLmlubmVySFRNTCA9IG5ld1ZhbHVlO1xyXG4gIH1cclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0VUIEFSQ0hJVkUgXHJcblxyXG5jb25zdCBzZXRBcmNoaXZlID0gKCkgPT4ge1xyXG4gIGNvbnN0IGh5ZHJhcHBLZXlzID0gZ2V0SHlkcmFwcEtleXMoKTtcclxuICBcclxuICBpZiAoaHlkcmFwcEtleXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICBhcmNoaXZlTGlzdC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICA8bGkgY2xhc3M9XCJhcmNoaXZlX19pdGVtIGFyY2hpdmVfX2l0ZW0tLWVtcHR5XCI+Tm8gaGlzdG9yeSB5ZXQuLi48L2xpPlxyXG4gICAgICBgO1xyXG5cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaHlkcmFwcEtleXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgIGNvbnN0IG5ld0VudHJ5ID0gbmV3IEVudHJ5KGh5ZHJhcHBLZXlzW2ldKTtcclxuICAgICAgYXJjaGl2ZUxpc3QuaW5uZXJIVE1MICs9IG5ld0VudHJ5Lmh0bWw7XHJcbiAgICAgIGxhc3RFbnRyeURhdGUuc2V0RGF0ZShsYXN0RW50cnlEYXRlLmdldERhdGUoKSAtIDEpO1xyXG4gICAgICBzZXRJbmRpY2F0b3JzKG5ld0VudHJ5LklELCBuZXdFbnRyeS52YWx1ZSk7XHJcbiAgICAgIGh5ZHJhcHBBcnJheS5wdXNoKG5ld0VudHJ5KTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdoeWRyYXBwQXJyYXknLCBoeWRyYXBwQXJyYXkpO1xyXG4gIH1cclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gU0VUIElORElDQVRPUlMgXHJcblxyXG5jb25zdCBzZXRJbmRpY2F0b3JzID0gKGlkLCB2YWx1ZSkgPT4ge1xyXG5cclxuICB2YWx1ZSA+IDcgPyB2YWx1ZSA9IDcgOiBmYWxzZTtcclxuXHJcbiAgY29uc3QgaW5kaWNhdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5pbmRpY2F0b3ItLWpzLSR7aWR9YCkuY2hpbGRyZW47XHJcbiAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmluZGljYXRvci0tanMtJHtpZH0gLmluZGljYXRvcl9fc3ZnLS1qcy0ke3ZhbHVlfWApO1xyXG4gIFxyXG4gIGZvciAoY29uc3QgaW5kaWNhdG9yIG9mIGluZGljYXRvcnMpIHtcclxuICAgIGluZGljYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ2luZGljYXRvcl9fc3ZnLS12aXNpYmxlJylcclxuICAgID8gaW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2luZGljYXRvcl9fc3ZnLS12aXNpYmxlJylcclxuICAgIDogZmFsc2U7XHJcbiAgfVxyXG4gIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3JfX3N2Zy0tdmlzaWJsZScpO1xyXG59XHJcbi8vIEYxIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNIT1cgQVJDSElWRSBcclxuY29uc3Qgc2hvd0FyY2hpdmUgPSAoKSA9PiB7XHJcblxyXG4gIC8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEhBTkRMRSBJVEVNIEVESVQgXHJcblxyXG4gIGNvbnN0IGhhbmRsZUl0ZW1FZGl0ID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IGUudGFyZ2V0LmluZGV4O1xyXG4gICAgY29uc3QgYXJjaGl2ZUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJjaGl2ZV9faXRlbS0tanMnKVtpdGVtSW5kZXhdO1xyXG4gICAgY29uc3QgZWRpdFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbi0tanMnKVtpdGVtSW5kZXhdO1xyXG4gICAgY29uc3QgZGVjcmVhc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1kZWNyZWFzZScpW2l0ZW1JbmRleF07XHJcbiAgICBjb25zdCBpbmNyZWFzZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWluY3JlYXNlJylbaXRlbUluZGV4XTtcclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWNhbmNlbCcpW2l0ZW1JbmRleF07XHJcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRpb25fX2J1dHRvbi0tanMtc2F2ZScpW2l0ZW1JbmRleF07XHJcbiAgICBjb25zdCBhcmNoaXZlVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJjaGl2ZV9fdmFsdWUtLWpzJylbaXRlbUluZGV4XTtcclxuXHJcbiAgICAvLyBGMyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFRPR0dMRSBJVEVNIERJU1BMQVkgPDwgSEFORExFIElURU0gRURJVCBcclxuXHJcbiAgICBjb25zdCB0b2dnbGVJdGVtRGlzcGxheSA9ICgpID0+IHtcclxuICAgICAgYXJjaGl2ZS5jbGFzc0xpc3QudG9nZ2xlKCdhcmNoaXZlLS1vbi10b3AnKTtcclxuICAgICAgYXJjaGl2ZUl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnYXJjaGl2ZV9faXRlbS0tb24tdG9wJyk7XHJcbiAgICAgIHBhZ2VPdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoJ2FyY2hpdmVfX292ZXJsYXktLXZpc2libGUnKTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgZWRpdEJ1dHRvbiBvZiBlZGl0U2VjdGlvbi5jaGlsZHJlbikge1xyXG4gICAgICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWRpdGlvbl9fYnV0dG9uLS12aXNpYmxlJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWRpdFNlY3Rpb24uY2xhc3NMaXN0LnRvZ2dsZSgnZWRpdGlvbi0tdmlzaWJsZScpO1xyXG4gICAgfVxyXG4gICAgLy8gRjMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEVYSVQgRURJVCBNT0RFIDw8IEhBTkRMRSBJVEVNIEVESVQgXHJcblxyXG4gICAgY29uc3QgZXhpdEVkaXRNb2RlID0gKCkgPT4ge1xyXG4gICAgICB0b2dnbGVJdGVtRGlzcGxheSgpO1xyXG4gICAgICBhcmNoaXZlVmFsdWUudGV4dENvbnRlbnQgPSBoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS52YWx1ZTtcclxuICAgICAgc2V0SW5kaWNhdG9ycyhoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS5JRCwgaHlkcmFwcEFycmF5W2l0ZW1JbmRleF0udmFsdWUpO1xyXG5cclxuICAgICAgYXJjaGl2ZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVkaXRpb24pO1xyXG4gICAgICBhcmNoaXZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFZGl0aW9uKTtcclxuICAgIH1cclxuICAgIC8vIEYzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBIQU5ETEUgRURJVElPTiA8PCBIQU5ETEUgSVRFTSBFRElUIFxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUVkaXRpb24gPSAoZSkgPT4ge1xyXG4gICAgICBjb25zdCBzZWxmID0gZS5rZXlDb2RlIHx8IGUudGFyZ2V0O1xyXG4gICAgICBsZXQgdmFsdWUgPSBwYXJzZUludChhcmNoaXZlVmFsdWUudGV4dENvbnRlbnQpO1xyXG5cclxuICAgICAgc3dpdGNoIChzZWxmKSB7XHJcblxyXG4gICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgY2FzZSBkZWNyZWFzZUJ1dHRvbjpcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHZhbHVlID4gMCA/IHZhbHVlLS0gOiBmYWxzZTtcclxuICAgICAgICAgIGFyY2hpdmVWYWx1ZS50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgc2V0SW5kaWNhdG9ycyhoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS5JRCwgdmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhc2UgMzk6XHJcbiAgICAgICAgY2FzZSBpbmNyZWFzZUJ1dHRvbjpcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHZhbHVlIDwgY291bnRlck1heFZhbHVlID8gdmFsdWUrKyA6IGZhbHNlO1xyXG4gICAgICAgICAgYXJjaGl2ZVZhbHVlLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICBzZXRJbmRpY2F0b3JzKGh5ZHJhcHBBcnJheVtpdGVtSW5kZXhdLklELCB2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMjc6XHJcbiAgICAgICAgY2FzZSBwYWdlT3ZlcmxheTpcclxuICAgICAgICBjYXNlIGNhbmNlbEJ1dHRvbjpcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGV4aXRFZGl0TW9kZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgIGNhc2Ugc2F2ZUJ1dHRvbjpcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGh5ZHJhcHBBcnJheVtpdGVtSW5kZXhdLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShoeWRyYXBwQXJyYXlbaXRlbUluZGV4XS5rZXksIHZhbHVlKTtcclxuICAgICAgICAgIGV4aXRFZGl0TW9kZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRlVOQ1RJT04gQ0FMTFMgPDwgSEFORExFIElURU0gRURJVCBcclxuXHJcbiAgICB0b2dnbGVJdGVtRGlzcGxheSgpO1xyXG4gICAgYXJjaGl2ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVkaXRpb24pO1xyXG4gICAgYXJjaGl2ZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRWRpdGlvbik7XHJcblxyXG4gIH0gLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRU5EIE9GIEhBTkRMRSBJVEVNIEVESVQgXHJcbiAgXHJcbiAgLy8gRjIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gTE9BRCBNT1JFIDw8IFNIT1cgQVJDSElWRSBcclxuICBjb25zdCBsb2FkTW9yZUl0ZW1zID0gKCkgPT4ge1xyXG4gICAgXHJcbiAgICBjb25zdCBhcmNoaXZlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJjaGl2ZV9faXRlbS0tanMnKTtcclxuICAgIGNvbnN0IGl0ZW1BcnJheSA9IFsuLi5hcmNoaXZlSXRlbXNdO1xyXG4gICAgY29uc3QgYXJjaGl2ZUxpc3RIZWlnaHQgPSBhcmNoaXZlTGlzdC5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgbGV0IGZpcnN0SW5kZXhUb0xvYWQgPSBpdGVtQXJyYXkuZmluZEluZGV4KGVsZW0gPT4gIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhcmNoaXZlX19pdGVtLS12aXNpYmxlJykpO1xyXG4gICAgbGV0IGhlaWdodHMgPSAwO1xyXG4gICAgbGV0IHNjcm9sbE9mZnNldCA9IGFyY2hpdmVMaXN0LnNjcm9sbFRvcDtcclxuXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBcclxuICAgICAgaWYgKGZpcnN0SW5kZXhUb0xvYWQgPCBpdGVtQXJyYXkubGVuZ3RoICYmIGZpcnN0SW5kZXhUb0xvYWQgPj0gMCkge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtQXJyYXlbZmlyc3RJbmRleFRvTG9hZF07XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhcmNoaXZlX19pdGVtLS12aXNpYmxlJyk7XHJcbiAgICAgICAgaGVpZ2h0cyArPSBpdGVtLm9mZnNldEhlaWdodDtcclxuICAgICAgICBzY3JvbGxPZmZzZXQgKz0gaXRlbS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGhlaWdodHMgPD0gYXJjaGl2ZUxpc3RIZWlnaHQgLSBpdGVtLm9mZnNldEhlaWdodCkge1xyXG4gICAgICAgICAgZmlyc3RJbmRleFRvTG9hZCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcmNoaXZlTGlzdC5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XHJcbiAgICAgICAgICBhcmNoaXZlTGlzdC5zdHlsZS5oZWlnaHQgPSBoZWlnaHRzICsgJ3B4JztcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFyY2hpdmVMaXN0LnNjcm9sbFRvcCA9IHNjcm9sbE9mZnNldDtcclxuICAgICAgICBsb2FkTW9yZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhcmNoaXZlX19idXR0b24tLWhpZGRlbicpO1xyXG4gICAgICAgIGxvYWRNb3JlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZE1vcmVJdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBGMiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBBREQgTkVXIElURU0gPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuICBjb25zdCBhZGROZXdJdGVtID0gKCkgPT4ge1xyXG5cclxuICAgIC8vIHNldCBkYXRlIG9iamVjdCBmb3IgYSBuZXcgZW50cnlcclxuICAgIGxhc3RFbnRyeURhdGUuc2V0RGF0ZShsYXN0RW50cnlEYXRlLmdldERhdGUoKSAtIDEpO1xyXG4gICAgY29uc3QgbmV3RW50cnlLZXkgPSBzZXREYXRlS2V5KGxhc3RFbnRyeURhdGUpO1xyXG4gICAgc2V0TmV3S2V5VmFsdWUobmV3RW50cnlLZXksIDApO1xyXG4gICAgLy8gY3JlYXRlIG5ldyBvYmplY3QgZm9yIGFycmF5XHJcbiAgICBjb25zdCBuZXdFbnRyeSA9IG5ldyBFbnRyeShuZXdFbnRyeUtleSk7XHJcbiAgICBoeWRyYXBwQXJyYXkucHVzaChuZXdFbnRyeSk7XHJcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBoeWRyYXBwQXJyYXkubGVuZ3RoIC0gMTtcclxuICAgIGFyY2hpdmVMaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaHlkcmFwcEFycmF5W2N1cnJlbnRJbmRleF0uaHRtbCk7XHJcbiAgICBzZXRJbmRpY2F0b3JzKGh5ZHJhcHBBcnJheVtjdXJyZW50SW5kZXhdLklELCBoeWRyYXBwQXJyYXlbY3VycmVudEluZGV4XS52YWx1ZSk7XHJcbiAgICBcclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcmNoaXZlTGlzdC5jaGlsZHJlbikge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FyY2hpdmVfX2l0ZW0tLXZpc2libGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0aW9uX19idXR0b24tLWpzLWVkaXQnKTtcclxuICAgIGNvbnN0IG5ld0VkaXRCdXR0b24gPSBlZGl0QnV0dG9uc1tjdXJyZW50SW5kZXhdO1xyXG4gICAgbmV3RWRpdEJ1dHRvbi5pbmRleCA9IGN1cnJlbnRJbmRleDtcclxuICAgIG5ld0VkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVJdGVtRWRpdCk7XHJcbiAgfVxyXG4gIC8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gUkVNT1ZFIExBU1QgSVRFTSA8PCBTSE9XIEFSQ0hJVkUgXHJcblxyXG4gIGNvbnN0IHJlbW92ZUxhc3RJdGVtID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbGFzdEl0ZW1LZXkgPSBoeWRyYXBwQXJyYXlbaHlkcmFwcEFycmF5Lmxlbmd0aCAtIDFdLmtleTtcclxuICAgIGh5ZHJhcHBBcnJheS5wb3AoKTtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxhc3RJdGVtS2V5KTtcclxuICAgIGxhc3RFbnRyeURhdGUuc2V0RGF0ZShsYXN0RW50cnlEYXRlLmdldERhdGUoKSArIDEpO1xyXG4gICAgYXJjaGl2ZUxpc3QucmVtb3ZlQ2hpbGQoYXJjaGl2ZUxpc3QubGFzdEVsZW1lbnRDaGlsZCk7XHJcbiAgfVxyXG4gIC8vIEYyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQ0xPU0UgQVJDSElWRSA8PCBTSE9XIEFSQ0hJVkUgXHJcblxyXG4gIGNvbnN0IGNsb3NlQXJjaGl2ZSA9ICgpID0+IHtcclxuICAgIGFyY2hpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYXJjaGl2ZS0tdmlzaWJsZScpO1xyXG4gICAgbG9hZE1vcmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYXJjaGl2ZV9fYnV0dG9uLS1oaWRkZW4nKTtcclxuXHJcbiAgICBjb25zdCBhcmNoaXZlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJjaGl2ZV9faXRlbS0tanMnKTtcclxuICAgIGZvciAoY29uc3QgYXJjaGl2ZUl0ZW0gb2YgYXJjaGl2ZUl0ZW1zKSB7XHJcbiAgICAgIGFyY2hpdmVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FyY2hpdmVfX2l0ZW0tLXZpc2libGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGROZXdCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdJdGVtKTtcclxuICAgIHJlbW92ZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUxhc3RJdGVtKTtcclxuICAgIGxvYWRNb3JlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZE1vcmVJdGVtcyk7XHJcbiAgICBhcmNoaXZlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBcmNoaXZlKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVkaXRCdXR0b24gb2YgZWRpdEJ1dHRvbnMpIHtcclxuICAgICAgZWRpdEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUl0ZW1FZGl0KTtcclxuICAgIH1cclxuXHJcbiAgICBhcmNoaXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FyY2hpdmUpO1xyXG4gIH1cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBWQVJJQUJMRVMgPDwgU0hPVyBBUkNISVZFIFxyXG5cclxuICBsZXQgZWRpdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdGlvbl9fYnV0dG9uLS1qcy1lZGl0Jyk7XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBGVU5DVElPTiBDQUxMUyA8PCBTSE9XIEFSQ0hJVkUgXHJcblxyXG4gIGFyY2hpdmUuY2xhc3NMaXN0LmFkZCgnYXJjaGl2ZS0tdmlzaWJsZScpO1xyXG4gIGxvYWRNb3JlSXRlbXMoKTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRVZFTlQgTElTVEVORVJTIDw8IFNIT1cgQVJDSElWRSBcclxuXHJcbiAgYXJjaGl2ZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dBcmNoaXZlKTtcclxuICBhcmNoaXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBcmNoaXZlKTtcclxuICBsb2FkTW9yZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvYWRNb3JlSXRlbXMpO1xyXG4gIGFkZE5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld0l0ZW0pO1xyXG4gIHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUxhc3RJdGVtKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGl0QnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IGVkaXRCdXR0b25zW2ldO1xyXG4gICAgZWRpdEJ1dHRvbi5pbmRleCA9IGk7XHJcbiAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSXRlbUVkaXQpO1xyXG4gIH1cclxufVxyXG4vLyBGMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEVORCBPRiBTSE9XIEFSQ0hJVkUgXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBWQVJJQUJMRVMgXHJcblxyXG5jb25zdCBhcHBDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19jb250YWluZXItLWpzJyk7XHJcbmNvbnN0IGFkZEdsYXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9fYnV0dG9uLS1qcy1hZGQnKTtcclxuY29uc3QgcmVtb3ZlR2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19idXR0b24tLWpzLXJlbW92ZScpO1xyXG5jb25zdCBjb3VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdsYXNzX19jb3VudGVyLS1qcycpO1xyXG5jb25zdCBjb3VudGVyTWF4VmFsdWUgPSA5OTtcclxuXHJcbmNvbnN0IGFyY2hpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZS0tanMnKTtcclxuY29uc3QgcGFnZU92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fb3ZlcmxheS0tanMnKTtcclxuY29uc3QgYXJjaGl2ZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fbGlzdC0tanMnKTtcclxuY29uc3QgYXJjaGl2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uX19idXR0b24tLWpzLWFyY2hpdmUnKTtcclxuY29uc3QgbG9hZE1vcmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fYnV0dG9uLS1qcy1sb2FkLW1vcmUnKTtcclxuY29uc3QgYWRkTmV3QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFyY2hpdmVfX2J1dHRvbi0tYWRkLW5ldycpO1xyXG5jb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGl2ZV9fYnV0dG9uLS1yZW1vdmUnKVxyXG5cclxuY29uc3Qgc3RhdHNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fYnV0dG9uLS1qcy1zdGF0cycpO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEZVTkNUSU9OIENBTExTIFxyXG5cclxuc2V0TG9jYWxTdG9yYWdlKCk7XHJcbnNldEFyY2hpdmUoKTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEVWRU5UIExJU1RFTkVSUyBcclxuXHJcbmFwcENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZUNvdW50ZXIpO1xyXG5hcmNoaXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FyY2hpdmUpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);